<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MinMinMsn</title><meta name="author" content="Jerry Min"><meta name="copyright" content="Jerry Min"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="MinMinMsn">
<meta property="og:url" content="https://minminmsn.github.io/page/23/index.html">
<meta property="og:site_name" content="MinMinMsn">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="Jerry Min">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://minminmsn.github.io/page/23/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MinMinMsn',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-05-26 17:00:32'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">260</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">34</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="MinMinMsn"><span class="site-name">MinMinMsn</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">MinMinMsn</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/24/2018/11/2018-11-24-nginx%E9%99%90%E8%BF%9E%E6%8E%A5%E9%99%90%E9%80%9F%E7%8E%87%E6%A8%A1%E5%9D%97%E6%80%BB%E7%BB%93/index/" title="Nginx限连接限速率模块总结">Nginx限连接限速率模块总结</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-24T00:00:00.000Z" title="Created 2018-11-24 08:00:00">2018-11-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">middleware</a></span></div><div class="content">
关于ngx_http_limit_conn_module、ngx_http_limit_req_module 模块，echo（需要安装第三方模块 ngx_http_echo_module），map（默认安装了ngx_http_map_module），geo（默认安装了ngx_http_geo_module）指令请查看官方文档，这里不再赘述。

有四种情况：
不过CDN限速配置
过CDN限速配置
不用白名单的不过CDN
不用白名单的过CDN


首先说明一个问题： geo里面的IP可以是单个的，也可以是一个网段的，只要符合CIDR标准就行。 map里面的IP必须是当个，因为这里把他看着一个变量。 过CDN的白名单IP只需要客户端IP就行，CND不需要，客户端IP得一行一行写 不过CDN的白名单IP可以写一个网段 关键点limited为空时不走限速。有值的，这里white_ip为1,走限速。

测试方法12345678910111213141516171819202122232425262728可以通过echo模块查看到（这两个都是没有走CDN的）：虚拟主机里echo的配置如下locat ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/21/2018/11/2018-11-21-codis-3-2%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE%E6%B1%87%E6%80%BB/index/" title="Codis 3.2集群部署配置汇总">Codis 3.2集群部署配置汇总</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-21T00:00:00.000Z" title="Created 2018-11-21 08:00:00">2018-11-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">middleware</a></span></div><div class="content">
概念总结集群配置前需要了解架构，集群分片主要分三种： 客户端分片：这个需要自己开发，对客户端要求严格，集群很难扩容 代理端分片：如codis，对客户端几乎无要求，集群容易扩容 服务端分片：如redis集群，需要智能客户端支持集群协议的，集群容易扩容

Codis3.2集群架构
服务端：codis-fe——codis-dashboard——codis-proxy——codis-group——codis-server 客户端：client——nginx-tcp——codis-proxy cdis-fe可以管理多个codis-dashboard 每个codis-dashboard代表一个产品线，每个codis-dashboard可以管理多个codis-proxy 每个codis-proxy可以管理多个codis-server group 每个codis-server group至少由两个codis-server组成，最少1主1备 由上可知一个大的codis集群可以分多个产品线，客户端连接各个产品线的codis-proxy，业务线之间可以做到物理隔离，比如group1，group2，grou ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/21/2018/11/2018-11-21-openresty-codis%E9%9B%86%E7%BE%A4%E7%BC%93%E5%AD%98%E7%B3%BB%E7%BB%9F/index/" title="OpenResty Codis集群缓存系统">OpenResty Codis集群缓存系统</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-21T00:00:00.000Z" title="Created 2018-11-21 08:00:00">2018-11-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">middleware</a></span></div><div class="content">
部署环境OpenResty1.12.5 Codis3.2集群（客户端不支持Redis集群协议故选择了Codis集群） Nginx1.12.1反向代理 Iis7源站

依赖的第三方模块123456789echo-nginx-module[https://github.com/openresty/echo-nginx-module](https://github.com/openresty/echo-nginx-module) set-misc-nginx-module [https://github.com/openresty/set-misc-nginx-module](https://github.com/openresty/set-misc-nginx-module) redis-nginx-moduleredis2-nginx-module[https://github.com/openresty/redis2-nginx-module](https://github.com/openresty/redis2-nginx-module) srcach-nginx-module  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/21/2018/11/2018-11-21-redis3-x%E4%B8%8E4-x%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2%E9%85%8D%E7%BD%AE%E4%BC%98%E5%8C%96/index/" title="Redis3.x与4.x集群部署配置优化">Redis3.x与4.x集群部署配置优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-21T00:00:00.000Z" title="Created 2018-11-21 08:00:00">2018-11-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">middleware</a></span></div><div class="content">
参考文档http://www.redis.cn/topics/cluster-spec.html

键分布模型键空间被分割为 16384 槽（slot），事实上集群的最大节点数量是 16384 个。（然而建议最大节点数量设置在1000这个数量级上） 所有的主节点都负责 16384 个哈希槽中的一部分。当集群处于稳定状态时，集群中没有在执行重配置（reconfiguration）操作，每个哈希槽都只由一个节点进行处理（不过主节点可以有一个或多个从节点，可以在网络断线或节点失效时替换掉主节点）。 以下是用来把键映射到哈希槽的算法（下一段哈希标签例外就是按照这个规则）： HASH_SLOT &#x3D; CRC16(key) mod 16384 其中，CRC16的定义如下： 名称：XMODEM（也可以称为 ZMODEM 或 CRC-16&#x2F;ACORN） 输出长度：16 bit 多项数（poly）：1021（即是 x16 + x12 + x5 + 1 ） 初始化：0000 反射输入字节（Reflect Input byte）：False 反射输入CRC（Reflect Output  ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/21/2018/11/2018-11-21-%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/index/" title="从零开始创建自己的博客">从零开始创建自己的博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-21T00:00:00.000Z" title="Created 2018-11-21 08:00:00">2018-11-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/dev/">dev</a></span></div><div class="content">minminmsn.com
是否受够了各博客平台之间频繁切换，精心设计的语言被无辜替换，辛苦维护的博文偶尔遭到无情的误杀，铺天盖地的广告疯狂的轰炸。烦了！倦了！够了！终于我要出手了，现在给你个配方就可以从零开始创建自己的博客，只需要花点儿银子（平均每月百来元即可小玩一把）就能解决以上所有痛点，在自己的地盘自己做主，随意撒野！、具体主要包含如下几步（欢迎各位疯狂点赞、收藏、转载、打CALL、投币）：

一、域名注册

二、域名备案

三、公安备案

四、证书申请

五、架构设计

效果图
架构图


六、部署配置

Nginx部署
Nginx配置
Docker部署


七、前端设计

模板
布局


八、插件选型

九、原创内容


一、域名注册
选择一个有代表性的域名，比如：minminmsn.com参考：https://buy.cloud.tencent.com/domain?from=console

二、域名备案
个人站点备案，借助平台还是很方便的，大概20工作日左右可完成（根据大陆法所有域名需要备案，否则后果自负）参考：https://console.cloud.tencent ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/21/2018/11/2018-11-21-redis%E9%9B%86%E7%BE%A4%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98%E6%B7%B1%E5%BA%A6%E5%88%86%E6%9E%90/index/" title="Redis集群性能问题深度分析">Redis集群性能问题深度分析</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-21T00:00:00.000Z" title="Created 2018-11-21 08:00:00">2018-11-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">middleware</a></span></div><div class="content">
参考Redis开发与运维 https://redis.io/ http://www.redis.cn/ https://github.com/antirez/redis https://github.com/sohutv/cachecloud

源起优化之路永无止境，在此之前一做过一些架构优化汇总如下：
1，Redis集群3.0.7升级到3.2.9解决读从节点KEY过期不删除问题，集群有几千万KEY原来经核查3.0.7版本只有主上保存过期时间，所以需要主触发才能删除过期的KEY，默认有主动删除与惰性删除同时工作，但是KEY比较多，写的比删除的KEY，另外读从的话不能触发主动删KEY所以会有KEY没更新问题，升级3.2.X之后解决。
2，发现持久化操作时容易导致超时，后来从节点的持久化关闭，效果良好；后续计划持久化非持久化业务分开，过期时间短的与过期时间长的分开。
2，集群扩容，升级到3.2.9版本后为了均摊QPS扩容了几个节点，后续发现有2个节点内核版本比其他的高但是性能反而表现比其他差，后替换了同版本的内核。
3，Bigkeys扫描发现有几个hashkey元素过大超过几千万，单个K ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/21/2018/11/2018-11-21-yum%E5%AE%89%E8%A3%85rabbitmq3-6-11%E4%B8%8Eerlange20%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BC%98%E5%8C%96/index/" title="Yum安装RabbitMQ3.6.11与Erlange20配置及优化">Yum安装RabbitMQ3.6.11与Erlange20配置及优化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-21T00:00:00.000Z" title="Created 2018-11-21 08:00:00">2018-11-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/middleware/">middleware</a></span></div><div class="content">
RabbitMQ简介AMQP，即Advanced Message Queuing Protocol，高级消息队列协议，是应用层协议的一个开放标准，为面向消息的中间件设计。消息中间件主要用于组件之间的解耦，消息的发送者无需知道消息使用者的存在，反之亦然。 AMQP的主要特征是面向消息、队列、路由（包括点对点和发布&#x2F;订阅）、可靠性、安全。 RabbitMQ是一个开源的AMQP实现，服务器端用Erlang语言编写，支持多种客户端，如：Python、Ruby、.NET、Java、JMS、C、PHP、ActionScript、XMPP、STOMP等，支持AJAX。用于在分布式系统中存储转发消息，在易用性、扩展性、高可用性等方面表现不俗。

官网的配置
http://www.rabbitmq.com/production-checklist.html http://www.rabbitmq.com/configure.html http://www.rabbitmq.com/memory.html http://www.rabbitmq.com/production-checklist ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/18/2018/11/2018-11-18-%E4%BD%A0%E6%B2%A1%E6%9C%89%E7%90%86%E7%94%B1%E4%B8%8D%E7%9B%B8%E4%BF%A1%E8%87%AA%E5%B7%B1/index/" title="你没有理由不相信自己">你没有理由不相信自己</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-18T00:00:00.000Z" title="Created 2018-11-18 08:00:00">2018-11-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/mind/">mind</a></span></div><div class="content">
纵观儒释道心，没有哪一个不是强调追随内心、反诸求己的，很多人都已经证明了向外求最终都所获甚少或者连方向都错了，说到底就是要有强大的自信力。遇到领导腿不软，遇到大神心不慌，把他们当哥们，平等的对待一切，其实他们本来就和你一样的，你叫声领导与大神是在夸奖他们呢，他们应该赞美你才对，如果他们悟到了。


  有不少人包括我认为要是怎样，如果怎样就好了，事实是过去不可念，未来不可思，这样想只是浪费时间而已。比如在家里你就应该是孩子的榜样，哪怕你混得再差在孩子面前你就是老师，得拿出你的担当，告知孩子一流的人生是怎样的，虽然你不能实现但不代表他不行。
  123    - ```    虽然我偶尔遇到一些偏执狂，总以为自己是对的世界是错的，表面上看我是讨厌的，其实我是佩服的。因为他至少行走的是正道，在没有证明自己是错的前为啥不坚持一下呢。就算证明自己错了，那又有什么关系，改过就是了。
  


  有一条现成的路可走，这是阳明祖师首先提出的，简单讲就是：志存高远，勤学苦练，知错就改，自渡渡他，当然最后一条要求比较高首先要悟者才能自渡，其次要有大热心肠才能渡他。
  123    - ```    ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/18/2018/11/2018-11-18-%E7%88%86%E8%A3%82%EF%BC%9A%E6%9C%AA%E6%9D%A5%E7%A4%BE%E4%BC%9A%E7%9A%849%E5%A4%A7%E7%94%9F%E5%AD%98%E5%8E%9F%E5%88%99/index/" title="爆裂：未来社会的9大生存原则">爆裂：未来社会的9大生存原则</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-18T00:00:00.000Z" title="Created 2018-11-18 08:00:00">2018-11-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/note/">note</a></span></div><div class="content">
伊藤穰一 杰夫·豪未来社会的三个定义条件
不对称性
复杂性
不确定性 


涌现优于权威（Emer-gence over Authority）
新的事物比过去的权威更重要
接受新事物

拉力优于推力（Pull over Push）
自己有需求而主动获取
不要被动接受

指南针优于地图（Compasses over Maps）
找准方向

风险优于安全（Risk over Safety）
愿意承担风险

违抗优于服从（Disobedience over Compliance）
叛逆和对叛逆宽容

实践优于理论（Practice over Theory）
变化快、节奏快

多样性优于能力（Diversity over Ability）
通才比专才重要
团队多样性比单一化有优势

韧性优于力量（Resilience over Strength）
柔能克刚

系统优于个体（Systems over Objects）
整体大于个体

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2018/11/18/2018/11/2018-11-18-%E6%9C%8D%E5%8A%A1%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%8F%8A%E5%BA%94%E7%94%A8%E9%98%B2%E6%94%BB%E5%87%BB%E6%96%B9%E6%A1%88/index/" title="服务稳定性及应用防攻击方案">服务稳定性及应用防攻击方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">Created</span><time datetime="2018-11-18T00:00:00.000Z" title="Created 2018-11-18 08:00:00">2018-11-18</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/op/">op</a></span></div><div class="content">一、 服务稳定性1． 基本监控基本监控推荐使用Zabbix，开源分布式企业级监控系统，能满足目前我们监控的需求
1234a.  系统监控，包括CPU、内存、磁盘、网络等，能够对系统级别的风险进行报警，目前已经实现并线上运行b.  服务进程及端口监控，能够监控服务异常退出，目前已经实现并线上运行c.  自定义脚本程序模拟接口登陆访问结合Zabbix监控日志文件功能，能够对自定义的错误进行报警，目前已经实现并线上运行d.  以上默认系统监控会自动添加，服务进程端口及自定义监控有需要时添加

2． 日志收集日志收集推荐使用Elastic Stack协议栈，可以满足收集海量日志需求，而且便于后续分析、报表、报警操作
1234a.  日志包括服务正常访问日志及错误日志b.  访问日志可以收集客户端IP、响应时间、HTTP状态码、发送字节、Referer、Agent等，也可以自定义字段c.  错误日志可以收集自定义字段错误字段，例如登陆失败、连接超时、后端无响应等d.  以上需要提前准备好日志及定义好日志字段

3． 指标分析123a.  访问日志指标，例如HTTP状态码统计、响应时间分布、其他字 ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/22/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/#content-inner">22</a><span class="page-number current">23</span><a class="page-number" href="/page/24/#content-inner">24</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/#content-inner">26</a><a class="extend next" rel="next" href="/page/24/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jerry Min</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">260</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">34</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/minminmsn"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">不念过往，无畏将来，若非当下，何时？</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/27/2022/12/2022-12-27-%E8%BF%90%E7%BB%B4%E8%83%BD%E5%8A%9B%E8%A6%81%E6%B1%82/index/" title="运维能力要求">运维能力要求</a><time datetime="2022-12-27T00:00:00.000Z" title="Created 2022-12-27 08:00:00">2022-12-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/11/01/2022/11/2022-11-01-%E6%B5%85%E8%B0%88%E5%9F%BA%E4%BA%8E-openstack-%E5%92%8C-k8s-%E8%BD%BB%E9%87%8F%E7%A0%94%E5%8F%91%E7%A7%81%E6%9C%89%E4%BA%91%E5%BB%BA%E8%AE%BE/index/" title="浅谈基于 OpenStack 和 k8s 轻量研发私有云建设">浅谈基于 OpenStack 和 k8s 轻量研发私有云建设</a><time datetime="2022-11-01T00:00:00.000Z" title="Created 2022-11-01 08:00:00">2022-11-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/17/2022/06/2022-06-17-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E9%9B%86%E9%94%A6/index/" title="数学公式集锦">数学公式集锦</a><time datetime="2022-06-17T00:00:00.000Z" title="Created 2022-06-17 08:00:00">2022-06-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/14/2022/06/2022-06-14-%E8%BF%90%E7%BB%B4%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/index/" title="运维工作总结">运维工作总结</a><time datetime="2022-06-14T00:00:00.000Z" title="Created 2022-06-14 08:00:00">2022-06-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/11/2022/06/2022-06-11-%E6%98%8E%E5%84%92%E5%AD%A6%E6%A1%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/" title="明儒学案学习笔记">明儒学案学习笔记</a><time datetime="2022-06-11T00:00:00.000Z" title="Created 2022-06-11 08:00:00">2022-06-11</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>Categories</span>
            <a class="card-more-btn" href="/categories/" title="More">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ai/"><span class="card-category-list-name">ai</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ashore/"><span class="card-category-list-name">ashore</span><span class="card-category-list-count">9</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/bigdata/"><span class="card-category-list-name">bigdata</span><span class="card-category-list-count">16</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/bigdata/op/"><span class="card-category-list-name">op</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/cloud/"><span class="card-category-list-name">cloud</span><span class="card-category-list-count">17</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/confucian/"><span class="card-category-list-name">confucian</span><span class="card-category-list-count">11</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/confucian/note/"><span class="card-category-list-name">note</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/confucian/talk/"><span class="card-category-list-name">talk</span><span class="card-category-list-count">1</span></a></li></ul></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>Tags</span></div><div class="card-tag-cloud"><a href="/tags/poetry/" style="font-size: 1.27em; color: #99a0a9">poetry</a> <a href="/tags/etcd/" style="font-size: 1.1em; color: #999">etcd</a> <a href="/tags/helm/" style="font-size: 1.17em; color: #999c9f">helm</a> <a href="/tags/logstash/" style="font-size: 1.13em; color: #999a9c">logstash</a> <a href="/tags/coredns/" style="font-size: 1.1em; color: #999">coredns</a> <a href="/tags/confucian/" style="font-size: 1.3em; color: #99a1ac">confucian</a> <a href="/tags/zabbix/" style="font-size: 1.17em; color: #999c9f">zabbix</a> <a href="/tags/pinpoint/" style="font-size: 1.17em; color: #999c9f">pinpoint</a> <a href="/tags/opencv/" style="font-size: 1.13em; color: #999a9c">opencv</a> <a href="/tags/jenkins/" style="font-size: 1.17em; color: #999c9f">jenkins</a> <a href="/tags/mind/" style="font-size: 1.4em; color: #99a5b6">mind</a> <a href="/tags/sre/" style="font-size: 1.13em; color: #999a9c">sre</a> <a href="/tags/rancher/" style="font-size: 1.13em; color: #999a9c">rancher</a> <a href="/tags/prometheus/" style="font-size: 1.23em; color: #999ea6">prometheus</a> <a href="/tags/method/" style="font-size: 1.33em; color: #99a2af">method</a> <a href="/tags/https/" style="font-size: 1.1em; color: #999">https</a> <a href="/tags/zen/" style="font-size: 1.47em; color: #99a8bc">zen</a> <a href="/tags/parenting/" style="font-size: 1.13em; color: #999a9c">parenting</a> <a href="/tags/java/" style="font-size: 1.2em; color: #999da3">java</a> <a href="/tags/mysql/" style="font-size: 1.2em; color: #999da3">mysql</a> <a href="/tags/metrics-server/" style="font-size: 1.1em; color: #999">metrics-server</a> <a href="/tags/can/" style="font-size: 1.13em; color: #999a9c">can</a> <a href="/tags/hadoop/" style="font-size: 1.1em; color: #999">hadoop</a> <a href="/tags/shell/" style="font-size: 1.1em; color: #999">shell</a> <a href="/tags/wisdom/" style="font-size: 1.37em; color: #99a4b2">wisdom</a> <a href="/tags/life/" style="font-size: 1.3em; color: #99a1ac">life</a> <a href="/tags/hexo/" style="font-size: 1.1em; color: #999">hexo</a> <a href="/tags/mongodb/" style="font-size: 1.1em; color: #999">mongodb</a> <a href="/tags/financial/" style="font-size: 1.5em; color: #99a9bf">financial</a> <a href="/tags/openresty/" style="font-size: 1.13em; color: #999a9c">openresty</a> <a href="/tags/ingress/" style="font-size: 1.17em; color: #999c9f">ingress</a> <a href="/tags/xavier/" style="font-size: 1.1em; color: #999">xavier</a> <a href="/tags/hbase/" style="font-size: 1.1em; color: #999">hbase</a> <a href="/tags/invest/" style="font-size: 1.23em; color: #999ea6">invest</a> <a href="/tags/kafka/" style="font-size: 1.1em; color: #999">kafka</a> <a href="/tags/op/" style="font-size: 1.43em; color: #99a6b9">op</a> <a href="/tags/flannled/" style="font-size: 1.1em; color: #999">flannled</a> <a href="/tags/nvidia/" style="font-size: 1.1em; color: #999">nvidia</a> <a href="/tags/wordpress/" style="font-size: 1.2em; color: #999da3">wordpress</a> <a href="/tags/harbor/" style="font-size: 1.13em; color: #999a9c">harbor</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>Archives</span><a class="card-more-btn" href="/archives/" title="More">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">December 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">November 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/06/"><span class="card-archive-list-date">June 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">May 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">April 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">March 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">February 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">January 2022</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>Info</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">Article :</div><div class="item-count">260</div></div><div class="webinfo-item"><div class="item-name">UV :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">PV :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">Last Push :</div><div class="item-count" id="last-push-date" data-lastPushDate="2023-05-26T09:00:31.608Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2023 By Jerry Min</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>