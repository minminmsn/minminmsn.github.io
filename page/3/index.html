<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"minminmsn.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="MinMinMsn">
<meta property="og:url" content="https://minminmsn.github.io/page/3/index.html">
<meta property="og:site_name" content="MinMinMsn">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Jerry Min">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://minminmsn.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>MinMinMsn</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">MinMinMsn</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/10/31/2021/10/2021-10-31-2023mba%E9%9D%A2%E8%AF%95%E6%80%BB%E8%AE%BA%E7%AC%94%E8%AE%B0/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/31/2021/10/2021-10-31-2023mba%E9%9D%A2%E8%AF%95%E6%80%BB%E8%AE%BA%E7%AC%94%E8%AE%B0/index/" class="post-title-link" itemprop="url">2023MBA面试总论学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-31 08:00:00" itemprop="dateCreated datePublished" datetime="2021-10-31T08:00:00+08:00">2021-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ashore/" itemprop="url" rel="index"><span itemprop="name">ashore</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>本笔记来自于社科赛斯面试总论笔记–甄董</strong></p>
<h3 id="一、考情分析"><a href="#一、考情分析" class="headerlink" title="一、考情分析"></a>一、考情分析</h3><ul>
<li>最近五年的报考数，报考率，考过率 <strong>总结：大纲线不高，但通过率低？</strong></li>
</ul>
<h3 id="二、如何制订投报策略"><a href="#二、如何制订投报策略" class="headerlink" title="二、如何制订投报策略"></a>二、如何制订投报策略</h3><ul>
<li>院校了解，报考人及录取数，学费，专业等</li>
<li>专科五年，本科三年，硕博两年；部分院校专科十年，本科五年</li>
<li>留意排期，提前准备资料</li>
<li>选择适合自己的院校和专业</li>
</ul>
<p><strong>总结：宁可鸡头不可凤尾，要不不适合做管理</strong></p>
<h3 id="三、MBA特别项目介绍"><a href="#三、MBA特别项目介绍" class="headerlink" title="三、MBA特别项目介绍"></a>三、MBA特别项目介绍</h3><ul>
<li>几个新的国内外合作项目</li>
<li>网红老师授课</li>
<li>直接接触顶部资源</li>
<li>跨行业综合人才难得</li>
</ul>
<p><strong>总结：选择学费高的（前提得行业背景要够）；通过其他方式挣回学费</strong></p>
<h3 id="四、MBA提前面试投递策略"><a href="#四、MBA提前面试投递策略" class="headerlink" title="四、MBA提前面试投递策略"></a>四、MBA提前面试投递策略</h3><ul>
<li>尽可能参加提前面试</li>
<li>有选择的能力</li>
<li>3+1策略；3+2+1策略</li>
<li>EMBA重管理，MBA重执行</li>
<li>高层低调，底层较真</li>
<li>成大事者不纠结</li>
<li>早报名，导师精细打磨</li>
<li>一定面试和笔试同时进行</li>
</ul>
<p><strong>总结：既然干了为什么不认真；不是我不行，而是我本可以；三个行（自己行，别人说你行，说你行的人要行）</strong></p>
<h3 id="五、MBA面试考察核心"><a href="#五、MBA面试考察核心" class="headerlink" title="五、MBA面试考察核心"></a>五、MBA面试考察核心</h3><ul>
<li>你做为领导愿意提拔什么样的干部？</li>
<li>企业招聘考察 行业经验 + 管理</li>
<li>管理（manage)是指在特定的环境条件下，以人为中心，对组织所拥有的资源进行有效的决策、计划、组织、领导、控制，以便达到既定组织目标的过程。</li>
</ul>
<p><strong>总结：管理是一种语言，管理者之间沟通需要用管理语言；疫情对公司的影响以及怎样脱困的（这个问题我打算从以下八点展开）；中美对抗相关的问题；过去几年最有成就、挑战、失败的案例；由技术思维向管理思维转换</strong></p>
<h3 id="六、面试的形式与对策"><a href="#六、面试的形式与对策" class="headerlink" title="六、面试的形式与对策"></a>六、面试的形式与对策</h3><ul>
<li><p>面试的形式</p>
<ul>
<li>管理经历</li>
<li>压力面试</li>
</ul>
</li>
<li><p>面试的对策</p>
<ul>
<li>与面试院校高度匹配</li>
<li>引导老师深入了解自己精彩的经历</li>
<li>有激情、自信、坚定</li>
<li>用心是成本最低的投资</li>
<li>面试是心里博弈的过程</li>
<li>面试无处不在</li>
<li>谦虚，真诚</li>
</ul>
</li>
</ul>
<p><strong>总结：千万不要在能骚浪贱的年龄里端庄；一把手需要的是靠谱的人，需要的是肯定的答案；总经理思维</strong></p>
<h3 id="七、面试题的分类"><a href="#七、面试题的分类" class="headerlink" title="七、面试题的分类"></a>七、面试题的分类</h3><ul>
<li>行业分析</li>
<li>公司状况</li>
<li>自身情况</li>
<li>对院校的了解</li>
<li>对管理的理解</li>
</ul>
<p><strong>总结：企业不怕你贵，就怕你不值；要么不干，要干就干好；管理经验和视角；复盘的重要是，对阵下药</strong></p>
<h3 id="八、面试基本技巧"><a href="#八、面试基本技巧" class="headerlink" title="八、面试基本技巧"></a>八、面试基本技巧</h3><ul>
<li>条理性强（三点以上）</li>
<li>说话简洁（先总后分）</li>
<li>围绕核心“管理”</li>
<li>证明你的优秀</li>
<li>拒绝欲扬先抑，优中更优</li>
<li>眼观六路，耳听八方，注意吸引面试官</li>
<li>肢体语言的善用与避短</li>
</ul>
<p><strong>总结：优秀是需要证明的</strong></p>
<h3 id="九、面试提高篇"><a href="#九、面试提高篇" class="headerlink" title="九、面试提高篇"></a>九、面试提高篇</h3><ul>
<li>精确记忆200句名人名言（经营管理类更好）</li>
<li>同行业好的分析报考（三到五篇熟烂于心）</li>
<li>公司高层领导的年度报考、分析报告、媒体访谈、发展趋势等（记笔记）</li>
<li>竞争对手分析</li>
</ul>
<p><strong>总结：这是应试教育，需要背诵很多相关的行业分析报告，无利不起早，背了就过了</strong></p>
<h3 id="十、分享"><a href="#十、分享" class="headerlink" title="十、分享"></a>十、分享</h3><ul>
<li>你那不是努力，而是重复劳动</li>
<li>怎么过一天，就怎么过一生！</li>
<li>拒绝随意</li>
<li>拒绝任性</li>
<li>拒绝慵懒</li>
<li>每日精进</li>
<li>敬畏目标</li>
<li>充分利用一切零散时间（地铁里，枕上，厕上），戒懒，戒玩，戒色</li>
<li>每天不低于3小时<strong>真</strong>学习</li>
<li>关键性的选型，不能有关键性的失败，苦一次，赢一生</li>
</ul>
<p><strong>总结：这些都是甄董比较喜欢的预警，有些话糙理不糙的话没有记录</strong></p>
<h3 id="十一、自我介绍攻略"><a href="#十一、自我介绍攻略" class="headerlink" title="十一、自我介绍攻略"></a>十一、自我介绍攻略</h3><ul>
<li>包括基本信息</li>
<li>工作经历、职业背景</li>
<li>工作业绩、项目经验、经验活动，突出个人在组织（最好总分总+倒序）</li>
<li>协调、创新方面的能力</li>
<li>报考MBA的目的和动机以及对报考院校的认知</li>
<li>告诉老师介绍结束</li>
</ul>
<p><strong>总结：真实但不老实</strong></p>
<h3 id="十二、如何把普通问题拔高"><a href="#十二、如何把普通问题拔高" class="headerlink" title="十二、如何把普通问题拔高"></a>十二、如何把普通问题拔高</h3><ul>
<li>你为什么报考XXMBA?</li>
<li>你最喜欢的一本书？</li>
<li>你打算如何完成XX的MAB学习？</li>
<li>当你接到面试通知后做了哪些准备工作？</li>
<li>假如这次买你是没有通过，你认为可能的原因是什么？</li>
<li>如何与你不喜欢的领导共事？</li>
<li>招聘时如何判断应聘者是否具备团队精神？</li>
<li>学习MBA最大的困难是什么？你如何应对？</li>
</ul>
<p><strong>总结：高度个性化，有条理从多点儿步步递进的回答</strong></p>
<p>案例：你最喜欢的一本书？ 1、需要深思，不能一开始就迫不及待的作答，就算提前有准备也要做思考状。 2、注意审题，你最喜欢的一本书是你一身中对你影响最大的书，不能是某个阶段的，如果实在没有那说明你不适合学习；另外书要靠管理方向靠拢。 3、回答要有条理，从多点儿去阐述。 4、既然最喜欢的书，你背下来了吗？你能用里面的经典语言作答吗？ 5、能不能学以致用，在实践中体现出来。 6、自己有用还不行，还得推广到身边的人 ，因为你是个管理者，要不然你报考MABA干嘛？ 7、最终团队赋能，提升整体作战neglect，不光要做将才还得能做帅才。 8、题外话找最牛的人去学习，使用有行业背景专业经验的人去解决问题。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/10/31/2021/10/2021-10-31-%E9%80%BB%E8%BE%91%E5%85%AC%E5%BC%80%E8%AF%BE%E7%AC%94%E8%AE%B0/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/31/2021/10/2021-10-31-%E9%80%BB%E8%BE%91%E5%85%AC%E5%BC%80%E8%AF%BE%E7%AC%94%E8%AE%B0/index/" class="post-title-link" itemprop="url">逻辑公开课学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-31 08:00:00" itemprop="dateCreated datePublished" datetime="2021-10-31T08:00:00+08:00">2021-10-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ashore/" itemprop="url" rel="index"><span itemprop="name">ashore</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>本笔记来自于社科塞斯考研逻辑公开课笔记–王校</strong> <img src="/images/logic.png"> <strong>课后训练</strong></p>
<ul>
<li><p>1、阅读长文章，尝试列出论证结构图</p>
</li>
<li><p>2、电影：《这个男人来自地球》、《末日哲学家》</p>
</li>
<li><p>3、《逻辑思维训练500题（白金版）》–于雷（微信阅读电子版可免费）</p>
</li>
</ul>
<p><strong>目标双四十</strong></p>
<ul>
<li><p>逻辑推理60分（显）+15分（隐）</p>
</li>
<li><p>花四十多分钟得四十多分</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/10/13/2021/10/2021-10-13-can%E6%80%BB%E7%BA%BF%E8%B0%83%E8%AF%95%E6%AD%A5%E9%AA%A4/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/10/13/2021/10/2021-10-13-can%E6%80%BB%E7%BA%BF%E8%B0%83%E8%AF%95%E6%AD%A5%E9%AA%A4/index/" class="post-title-link" itemprop="url">CAN总线调试步骤</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-10-13 08:00:00" itemprop="dateCreated datePublished" datetime="2021-10-13T08:00:00+08:00">2021-10-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="CAN总线"><a href="#CAN总线" class="headerlink" title="CAN总线"></a>CAN总线</h3><p>CAN是控制器局域网络(Controller Area Network, CAN)的简称，是由以研发和生产汽车电子产品著称的德国BOSCH公司开发的，并最终成为国际标准（ISO 11898），是国际上应用最广泛的现场总线之一。 在北美和西欧，CAN总线协议已经成为汽车计算机控制系统和嵌入式工业控制局域网的标准总线，并且拥有以CAN为底层协议专为大型货车和重工机械车辆设计的J1939协议。</p>
<h3 id="配置can"><a href="#配置can" class="headerlink" title="配置can"></a>配置can</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">user@server:~$ cat /etc/can_setup.sh </span><br><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">modprobe can</span><br><span class="line">modprobe can_raw</span><br><span class="line">modprobe mttcan</span><br><span class="line"></span><br><span class="line">ip link set can0 up type can bitrate 500000 restart-ms 5000 </span><br><span class="line">ip link set can1 up type can bitrate 500000 restart-ms 5000</span><br></pre></td></tr></table></figure>

<h3 id="验证can"><a href="#验证can" class="headerlink" title="验证can"></a>验证can</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">user@server:~$ ip -details -statistics link show can0 </span><br><span class="line">8: can0: &lt;NOARP,UP,LOWER_UP,ECHO&gt; mtu 16 qdisc pfifo_fast state UNKNOWN mode DEFAULT group default qlen 10</span><br><span class="line">    link/can  promiscuity 0 </span><br><span class="line">    can state ERROR-ACTIVE (berr-counter tx 0 rx 0) restart-ms 5000 </span><br><span class="line">      bitrate 498701 sample-point 0.870 </span><br><span class="line">      tq 26 prop-seg 33 phase-seg1 33 phase-seg2 10 sjw 1</span><br><span class="line">      mttcan: tseg1 2..255 tseg2 0..127 sjw 1..127 brp 1..511 brp-inc 1</span><br><span class="line">      mttcan: dtseg1 1..31 dtseg2 0..15 dsjw 1..15 dbrp 1..15 dbrp-inc 1</span><br><span class="line">      clock 38400000</span><br><span class="line">      re-started bus-errors arbit-lost error-warn error-pass bus-off</span><br><span class="line">      0          0          0          0          0          0         numtxqueues 1 numrxqueues 1 gso_max_size 65536 gso_max_segs 65535 </span><br><span class="line">    RX: bytes  packets  errors  dropped overrun mcast   </span><br><span class="line">    2984408    373051   0       0       0       0       </span><br><span class="line">    TX: bytes  packets  errors  dropped carrier collsns </span><br><span class="line">    210824     26870    0       0       0       0  </span><br></pre></td></tr></table></figure>

<h3 id="检查dmesg消息"><a href="#检查dmesg消息" class="headerlink" title="检查dmesg消息"></a>检查dmesg消息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">user@server:~$ dmesg |grep can</span><br><span class="line">[    0.000000] OF: fdt:memory scan node memory, reg size 48,</span><br><span class="line">[    1.521230] tegra-pwm 3280000.pwm: PWM clk can sleep in ops</span><br><span class="line">[    1.521649] tegra-pwm c340000.pwm: PWM clk can sleep in ops</span><br><span class="line">[    1.522360] tegra-pwm 32c0000.pwm: PWM clk can sleep in ops</span><br><span class="line">[    1.522751] tegra-pwm 32f0000.pwm: PWM clk can sleep in ops</span><br><span class="line">[    6.330840] FAN: can&#x27;t find tach_gpio</span><br><span class="line">[   21.855925] can: controller area network core (rev 20120528 abi 9)</span><br><span class="line">[   21.868303] can: raw protocol (rev 20120528)</span><br><span class="line">[   21.912229] net can0: mttcan device registered (regs=ffffff800d141000, irq=69)</span><br><span class="line">[   21.926728] net can1: mttcan device registered (regs=ffffff800d147000, irq=70)</span><br><span class="line">[   21.934051] mttcan c310000.mttcan can0: bitrate error 0.2%</span><br><span class="line">[   21.934179] mttcan c310000.mttcan can0: Bitrate set</span><br><span class="line">[   21.934238] mttcan_controller_config: ctrlmode 0</span><br><span class="line">[   21.934252] mttcan c310000.mttcan can0: Bitrate set</span><br><span class="line">[   21.934310] IPv6: ADDRCONF(NETDEV_CHANGE): can0: link becomes ready</span><br><span class="line">[   21.949344] mttcan c320000.mttcan can1: bitrate error 0.2%</span><br><span class="line">[   21.949478] mttcan c320000.mttcan can1: Bitrate set</span><br><span class="line">[   21.949546] mttcan_controller_config: ctrlmode 0</span><br><span class="line">[   21.949563] mttcan c320000.mttcan can1: Bitrate set</span><br><span class="line">[   21.949621] IPv6: ADDRCONF(NETDEV_CHANGE): can1: link becomes ready</span><br></pre></td></tr></table></figure>

<h3 id="检查candump输出"><a href="#检查candump输出" class="headerlink" title="检查candump输出"></a>检查candump输出</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">user@server:~$ candump can0 |head</span><br><span class="line">  can0  607   [8]  61 00 00 00 0F A0 06 C8</span><br><span class="line">  can0  601   [8]  00 3C 00 02 01 01 44 0B</span><br><span class="line">  can0  602   [8]  00 00 00 00 00 00 00 00</span><br><span class="line">  can0  605   [8]  1F C8 4D 40 00 2C F6 00</span><br><span class="line">  can0  606   [8]  80 01 37 E0 00 39 00 00</span><br><span class="line">  can0  602   [8]  00 00 00 00 00 00 00 00</span><br><span class="line">  can0  601   [8]  00 3C 00 02 01 01 44 0C</span><br><span class="line">  can0  605   [8]  1F BA 4C F0 00 30 29 00</span><br><span class="line">  can0  606   [8]  80 01 37 E0 00 39 00 00</span><br><span class="line">  can0  607   [8]  61 00 00 00 0F A0 07 C9</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/09/27/2021/09/2021-09-27-%E8%BF%90%E7%BB%B4%E4%B8%8E%E8%BF%90%E8%90%A5%E7%9A%84%E5%8C%BA%E5%88%AB/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/27/2021/09/2021-09-27-%E8%BF%90%E7%BB%B4%E4%B8%8E%E8%BF%90%E8%90%A5%E7%9A%84%E5%8C%BA%E5%88%AB/index/" class="post-title-link" itemprop="url">运维与运营的区别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-09-27 08:00:00" itemprop="dateCreated datePublished" datetime="2021-09-27T08:00:00+08:00">2021-09-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="运维的定义"><a href="#运维的定义" class="headerlink" title="运维的定义"></a>运维的定义</h3><p>百度百科上是这样解释运维的： 运维，这里指互联网运维。 一个互联网产品的生成一般经历的过程是：产品经理、需求分析、研发部门开发、测试部门测试、运维部门部署发布以及长期的运行维护。 运维，本质上是对网络、服务器、服务的生命周期各个阶段的运营与维护，在成本、稳定性、效率上达成一致可接受的状态。</p>
<h3 id="运维的职责"><a href="#运维的职责" class="headerlink" title="运维的职责"></a>运维的职责</h3><p>运维的职责覆盖了产品从设计到发布、运行维护、变更升级及至下线的生命周期，各个阶段的职责包括：</p>
<ul>
<li><p>产品发布前 这个阶段运维工程师的职责是参与设计并把有关运维准入，主要包括： （1） 产品的业务熟悉； （2） 产品架构设计的合理性评估，包括是否存在单点，是否可容错，是否有强耦合等，同时需要提供产品设计的合理性建议以使产品能够满足上线发布并稳定运行的基本要求； （3） 资源评估，包括所需的服务器资源、网络资源以及资源的分布等，同时把相关产品对资源预算申请的合理性，控制服务成本； （4） 资源就位，将申请的服务器及基础环境&#x2F;域名准备就位。</p>
</li>
<li><p>产品发布 这个阶段运维工程师负责发布的具体工作，将具体的软件和系统&#x2F;硬件资源整合形成产品并对外提供服务。 对于已在线服务的更新也属于发布范畴，这个时候的产品发布一般要保障在线发布，在不中断对外服务的情况下完成产品的升级。对于大型复杂的变更也存在中止服务部署完成后再重新提供服务的情况，但这种情况需要运维工程师通过尽可能的技术手段来避免。</p>
</li>
<li><p>产品运行维护 这个阶段的主要工作包括： （1） 监控：对服务运行的状态进行实时的监控，随时发现服务的运行异常和资源消耗情况；输出重要的日常服务运行报表以评估服务&#x2F;业务整体运行状况，发现服务隐患； （2） 故障处理：对服务出现的任何异常进行及时处理，尽可能避免问题的扩大化甚至中止服务。这之前运维工程师需要针对各类服务异常，如机房&#x2F;网络故障、程序bug等问题制定处理的预案，问题出现时可以自动或手动执行预案达到止损的目的。除了日常小故障外，运维工程师还需要考虑产品不同程度受损情况下的灾难恢复，包括诸如地震等不可抗力导致大规模机房故障、在线产品被删除等对产品造成致命伤害的情况。 容量管理：包括服务规模扩张后的资源评估、扩容、机房迁移、流量调度等规划和具体实施。 产品性能&#x2F;成本优化 产品对外提供服务最重要的一点是用户体验，用户体验中非常重要的是产品的可用性和响应速度。而如何用最合理的资源（如机器、带宽等）支持产品提供高可用和高速度的用户体验，这也是运维工程师的重要职责。</p>
</li>
<li><p>产品下线 发展良好的互联网产品将始终在线对外提供服务，但互联网产品快速迭代，也存在相当多孵化的产品最后被淘汰的情况，这些产品都需要做下线处理，这个过程运维工程师主要做好资源回收的工作，将机器&#x2F;网络等资源回收后纳入资源池中供其它服务使用。</p>
</li>
</ul>
<h3 id="运营的定义"><a href="#运营的定义" class="headerlink" title="运营的定义"></a>运营的定义</h3><p>百度百科上是这样解释运营的： 运营就是对运营过程的计划、组织、实施和控制，是与产品生产和服务创造密切相关的各项管理工作的总称。从另一个角度来讲，运营管理也可以指为对生产和提供公司主要的产品和服务的系统进行设计、运行、评价和改进的管理工作。</p>
<h3 id="运维与运营的区别"><a href="#运维与运营的区别" class="headerlink" title="运维与运营的区别"></a>运维与运营的区别</h3><p>运维的核心是基于技术的系统、平台、数据库运行维护。 运营是基于产品和用户的。 具体区别如下：</p>
<ul>
<li><p>1.目标不同。运维是以系统稳定运行作为导向的，而运营则是以客户价值为导向。</p>
</li>
<li><p>2.工作内容。运维更多指的是交付层面的内容，而运营则需要在运维的基础上具备更多的经营思维。</p>
</li>
<li><p>3.关注点不同，运维偏技术，而运营偏业务。</p>
</li>
<li><p>4.对团队要求不同，运维偏向于做，更强调技术能力；运营偏向于想，强调规划管理能力。</p>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/08/30/2021/08/2021-08-30-xavier%E5%BC%80%E5%8F%91%E8%80%85%E5%B9%B3%E5%8F%B0docker%E4%B8%AD%E5%AE%89%E8%A3%85pcan/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/08/30/2021/08/2021-08-30-xavier%E5%BC%80%E5%8F%91%E8%80%85%E5%B9%B3%E5%8F%B0docker%E4%B8%AD%E5%AE%89%E8%A3%85pcan/index/" class="post-title-link" itemprop="url">Xavier开发者平台Docker中安装PCAN</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-08-30 08:00:00" itemprop="dateCreated datePublished" datetime="2021-08-30T08:00:00+08:00">2021-08-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>PCAN又叫做PCAN-USB，也叫作CAN卡，是一个CAN转USB接口，可以将CAN网络上的报文通过USB接口传输到PC上，通过相关的软件来查看CAN报文。 <a target="_blank" rel="noopener" href="https://minminmsn.com/images/xavier/pcan.jpg"><img src="/images/pcan.jpg"></a> <strong>1、PCAN依赖的环境</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">linux-headers-`uname -r`</span><br><span class="line">libpopt-dev</span><br><span class="line">g++</span><br></pre></td></tr></table></figure>

<p><strong>2、ARM64架构宿主机上安装PCAN</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install libpopt-dev -y</span><br><span class="line">tar -xzvf peak-linux-driver-8.10.2.tar.gz</span><br><span class="line">cd peak-linux-driver-8.10.2</span><br><span class="line">sudo make all NET=NO PCI=NO ISA=NO DNG=NO PCC=NO</span><br><span class="line">sudo make  install</span><br><span class="line">sudo modprobe pcan</span><br></pre></td></tr></table></figure>

<p><strong>3、ARM64架构Docker中安装PCAN</strong> 1）、add之前宿主机make产生的文件到对应的docker目录上 2）、在docker中加载pcan 具体内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ADD file/linux-headers-4.9.140-tegra /usr/src/linux-headers-4.9.140-tegra/</span><br><span class="line">ADD file/pcanlib/etc/modules.conf.local /etc/</span><br><span class="line">ADD file/pcanlib/lib/modules/4.9.140-tegra /lib/modules/4.9.140-tegra/</span><br><span class="line">ADD file/pcanlib/usr/include /usr/include/</span><br><span class="line">ADD file/pcanlib/usr/lib /usr/lib/</span><br><span class="line">ADD file/pcanlib/usr/local/bin /usr/local/bin/</span><br><span class="line">ADD file/tegra /usr/lib/aarch64-linux-gnu/tegra/</span><br><span class="line">RUN echo &quot;/usr/lib/aarch64-linux-gnu/tegra&quot; &gt;&gt; /etc/ld.so.conf.d/aarch64-linux-gnu.conf \</span><br><span class="line">    &amp;&amp; ldconfig</span><br><span class="line">    &amp;&amp; modprobe pcan \</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/07/27/2021/07/2021-07-27-%E5%BD%B1%E5%93%8Dubuntu18-04%E7%B3%BB%E7%BB%9Fdns%E7%9A%84%E5%87%A0%E4%B8%AA%E5%9B%A0%E7%B4%A0/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/07/27/2021/07/2021-07-27-%E5%BD%B1%E5%93%8Dubuntu18-04%E7%B3%BB%E7%BB%9Fdns%E7%9A%84%E5%87%A0%E4%B8%AA%E5%9B%A0%E7%B4%A0/index/" class="post-title-link" itemprop="url">影响ubuntu18.04系统DNS的几个因素</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-07-27 08:00:00" itemprop="dateCreated datePublished" datetime="2021-07-27T08:00:00+08:00">2021-07-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>1、resolv.conf</strong></p>
<p>&#x2F;etc&#x2F;resolv.conf 文件里面的dns服务器是实时生效的，发现ubuntu18.04和Centos系列的差别很大，ubuntu18.04是个软链接并建议不要去修改；centos系列是个配置文件，可以直接修改使用。</p>
<p><strong>2、resolvconf</strong> 默认软链接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">user@ubuntu:~$ ls -lh /etc/resolv.conf </span><br><span class="line">lrwxrwxrwx 1 root root 27 10月 22  2018 /etc/resolv.conf -&gt; /run/resolvconf/resolv.conf</span><br><span class="line"></span><br><span class="line">user@ubuntu:~$ netstat -tulpn|grep 53</span><br><span class="line">(Not all processes could be identified, non-owned process info</span><br><span class="line"> will not be shown, you would have to be root to see it all.)</span><br><span class="line">tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      - </span><br><span class="line">udp        0      0 127.0.0.53:53           0.0.0.0:*                           - </span><br><span class="line"></span><br><span class="line">user@ubuntu:~$ cat /run/resolvconf/resolv.conf </span><br><span class="line"># Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)</span><br><span class="line">#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</span><br><span class="line"># 127.0.0.53 is the systemd-resolved stub resolver.</span><br><span class="line"># run &quot;systemd-resolve --status&quot; to see details about the actual nameservers.</span><br><span class="line"></span><br><span class="line">nameserver 114.114.114.114</span><br><span class="line">nameserver 127.0.0.53</span><br><span class="line"></span><br><span class="line">user@ubuntu:~$ cat /run/resolvconf/interface/eth0.inet </span><br><span class="line">nameserver 114.114.114.114  </span><br><span class="line">mogo@mogo-desktop:~$ cat /run/resolvconf/interface/systemd-resolved </span><br><span class="line">nameserver 127.0.0.53</span><br></pre></td></tr></table></figure>

<p><strong>3、systemd-resloved</strong> 修改软链接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">user@ubuntu:~$ ls -lh /etc/resolv.conf </span><br><span class="line">lrwxrwxrwx 1 root root 27 10月 22  2018 /etc/resolv.conf -&gt; /run/systemd/resolve/resolv.conf</span><br><span class="line"></span><br><span class="line">user@ubuntu:~$ cat /etc/systemd/resolved.conf</span><br><span class="line">#  This file is part of systemd.</span><br><span class="line">#</span><br><span class="line">#  systemd is free software; you can redistribute it and/or modify it</span><br><span class="line">#  under the terms of the GNU Lesser General Public License as published by</span><br><span class="line">#  the Free Software Foundation; either version 2.1 of the License, or</span><br><span class="line">#  (at your option) any later version.</span><br><span class="line">#</span><br><span class="line"># Entries in this file show the compile time defaults.</span><br><span class="line"># You can change settings by editing this file.</span><br><span class="line"># Defaults can be restored by simply deleting this file.</span><br><span class="line">#</span><br><span class="line"># See resolved.conf(5) for details</span><br><span class="line"></span><br><span class="line">[Resolve]</span><br><span class="line">DNS=192.168.1.1</span><br><span class="line">#FallbackDNS=</span><br><span class="line">#Domains=</span><br><span class="line">#LLMNR=no</span><br><span class="line">#MulticastDNS=no</span><br><span class="line">#DNSSEC=no</span><br><span class="line">#Cache=yes</span><br><span class="line">#DNSStubListener=yes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user@ubuntu:~$ cat /run/systemd/resolve/resolv.conf </span><br><span class="line"># This file is managed by man:systemd-resolved(8). Do not edit.</span><br><span class="line">#</span><br><span class="line"># This is a dynamic resolv.conf file for connecting local clients directly to</span><br><span class="line"># all known uplink DNS servers. This file lists all configured search domains.</span><br><span class="line">#</span><br><span class="line"># Third party programs must not access this file directly, but only through the</span><br><span class="line"># symlink at /etc/resolv.conf. To manage man:resolv.conf(5) in a different way,</span><br><span class="line"># replace this symlink by a static file or a different symlink.</span><br><span class="line">#</span><br><span class="line"># See man:systemd-resolved.service(8) for details about the supported modes of</span><br><span class="line"># operation for /etc/resolv.conf.</span><br><span class="line"></span><br><span class="line">nameserver 192.168.1.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user@ubuntu:~$ cat /run/systemd/resolve/stub-resolv.conf </span><br><span class="line"># This file is managed by man:systemd-resolved(8). Do not edit.</span><br><span class="line">#</span><br><span class="line"># This is a dynamic resolv.conf file for connecting local clients to the</span><br><span class="line"># internal DNS stub resolver of systemd-resolved. This file lists all</span><br><span class="line"># configured search domains.</span><br><span class="line">#</span><br><span class="line"># Run &quot;systemd-resolve --status&quot; to see details about the uplink DNS servers</span><br><span class="line"># currently in use.</span><br><span class="line">#</span><br><span class="line"># Third party programs must not access this file directly, but only through the</span><br><span class="line"># symlink at /etc/resolv.conf. To manage man:resolv.conf(5) in a different way,</span><br><span class="line"># replace this symlink by a static file or a different symlink.</span><br><span class="line">#</span><br><span class="line"># See man:systemd-resolved.service(8) for details about the supported modes of</span><br><span class="line"># operation for /etc/resolv.conf.</span><br><span class="line"></span><br><span class="line">nameserver 127.0.0.53</span><br><span class="line">options edns0</span><br></pre></td></tr></table></figure>

<p><strong>4、network-manager（图形界面）&#x2F;network（服务器）</strong> 图形界面时可以直接桌面修改dns。如果不是图形界面直接network服务控制的&#x2F;etc&#x2F;network&#x2F;interfaces配置文件dns-nameservers参数可以配置。经过测试，以上所有服务都开启时，systemd-resolved优先级大于network-manager。 综上可以推荐使用第三个systemd-resloved服务的软链接，通过修改&#x2F;etc&#x2F;systemd&#x2F;resolved.conf配置文件来定义dns服务器，默认该服务是开机启动的。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/06/09/2021/06/2021-06-09-arm64v8%E6%9E%B6%E6%9E%84%E4%B8%8Bautopolit%E7%8E%AF%E5%A2%83docker%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/06/09/2021/06/2021-06-09-arm64v8%E6%9E%B6%E6%9E%84%E4%B8%8Bautopolit%E7%8E%AF%E5%A2%83docker%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C/index/" class="post-title-link" itemprop="url">Arm64v8架构下Autopolit环境Docker镜像制作</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-06-09 08:00:00" itemprop="dateCreated datePublished" datetime="2021-06-09T08:00:00+08:00">2021-06-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="硬件环境"><a href="#硬件环境" class="headerlink" title="硬件环境"></a><strong>硬件环境</strong></h3><p><strong>NVIDIA Jetson AGX Xavier Developer Kit (32GB)</strong></p>
<ul>
<li>GPU 搭载 Tensor Core 的 512 核 Volta GPU</li>
<li>CPU 8 核 ARM v8.2 64 位 CPU、8 MB L2 + 4 MB L3</li>
<li>内存 32 GB 256 位 LPDDR4x | 137 GB&#x2F;秒</li>
<li>存储 32 GB eMMC 5.1</li>
<li>PCIe X16 X8 PCIe Gen4&#x2F;x8 SLVS-EC</li>
<li>RJ45 千兆以太网</li>
<li>USB-C 2 个 USB 3.1 接口、DP 接口（可选）、PD 接口（可选） 可通过同一端口支持封闭系统调试和烧写</li>
<li>摄像头接口 （16 个）CSI-2 通道</li>
<li>M.2 Key M NVMe</li>
<li>M.2 Key E PCIe x1 + USB 2.0 + UART (for Wi-Fi&#x2F;LTE) &#x2F; I2S + DMIC + GPIOs</li>
<li>40 针接头 UART + SPI + CAN + I2 C + I2 S + DMIC + GPIOs</li>
<li>高清音频接头 高清音频</li>
<li>eSTATp + USB 3.0 Type A 借助 PCIe x1 桥接器的 SATA 接口 + USB 3.0（PD + 适用于 2.5 英寸 SATA 接口的数据）</li>
<li>HDMI Type A HDMI 2.0</li>
<li>µSD&#x2F;UFS 卡座 SD&#x2F;UFS</li>
</ul>
<h3 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a><strong>软件环境</strong></h3><ul>
<li>jetson4.4</li>
<li>vnc &amp; xface</li>
<li>ros</li>
<li>osqp &amp; qpOASES</li>
<li>cuda10.2</li>
<li>pcan8.10</li>
<li>tensorrt7.1</li>
<li>opencv4.1</li>
</ul>
<h3 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a><strong>Dockerfile</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line">FROM arm64v8/ubuntu:18.04</span><br><span class="line"></span><br><span class="line">COPY file/clean-layer.sh /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line">RUN chmod +x /usr/bin/clean-layer.sh \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh \</span><br><span class="line">    &amp;&amp; ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \</span><br><span class="line">    &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone</span><br><span class="line"></span><br><span class="line">#COPY file</span><br><span class="line">ADD file/1_sys_config.sh /tmp/</span><br><span class="line">RUN apt-get update \</span><br><span class="line">    &amp;&amp; apt-get install -y vim busybox net-tools iputils-ping iproute2 gpg apt-utils locales \</span><br><span class="line">    &amp;&amp; sh /tmp/1_sys_config.sh \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line">#Install VNC&amp;XFCE</span><br><span class="line">RUN gpg --keyserver keyserver.ubuntu.com --recv F42ED6FBAB17C888 \</span><br><span class="line">    &amp;&amp; gpg --export --armor F42ED6FBAB17C888 | apt-key add - \</span><br><span class="line">    &amp;&amp; sed -i -e &#x27;s/# en_US.UTF-8 UTF-8/en_US.UTF-8 UTF-8/&#x27; /etc/locale.gen \</span><br><span class="line">    &amp;&amp; locale-gen \</span><br><span class="line">    &amp;&amp; dpkg-reconfigure --frontend=noninteractive locales \</span><br><span class="line">    &amp;&amp; update-locale LANG=en_US.UTF-8 \</span><br><span class="line">    &amp;&amp; apt-get update \</span><br><span class="line">    &amp;&amp; apt-get install -y xfce4 xfce4-terminal tigervnc-standalone-server \</span><br><span class="line">    &amp;&amp; bash -c &quot;yes | apt-get install -y sudo&quot; \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line">RUN echo &quot;user&quot; | adduser autopolit &amp;&amp; \</span><br><span class="line">    echo &quot;autopolit ALL=(ALL) NOPASSWD: ALL&quot; &gt;&gt; /etc/sudoers &amp;&amp; \</span><br><span class="line">    usermod -aG dialout autopolit</span><br><span class="line"># Install ros</span><br><span class="line">ADD file/ros.key /tmp/ros.key</span><br><span class="line">RUN apt-key add /tmp/ros.key \</span><br><span class="line">    &amp;&amp; apt-get update \</span><br><span class="line">    &amp;&amp; apt install -y ros-melodic-desktop-full \</span><br><span class="line">       ros-melodic-cv-bridge ros-melodic-abseil-cpp \</span><br><span class="line">       python-rosdep libgoogle-glog-dev libpcap-dev \</span><br><span class="line">       python3-qtpy python3-pip \</span><br><span class="line">       libopenblas-dev liblapacke-dev \</span><br><span class="line">       cmake libavcodec-dev libavformat-dev libavutil-dev \</span><br><span class="line">       libeigen3-dev libglew-dev libgtk2.0-dev libgtk-3-dev \</span><br><span class="line">       libjpeg-dev libpng-dev libpostproc-dev libswscale-dev \</span><br><span class="line">       libtbb-dev libtiff5-dev libv4l-dev libxvidcore-dev \</span><br><span class="line">       libx264-dev qt5-default \</span><br><span class="line">       zlib1g-dev libgl1 libglvnd-dev pkg-config \</span><br><span class="line">       libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev \</span><br><span class="line">       python-simplejson python-pip exfat-utils \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line">RUN sudo -H pip3 install jetson-stats rosdep \</span><br><span class="line">    &amp;&amp; sudo pip install google protobuf \</span><br><span class="line">    &amp;&amp; ln -s /usr/bin/vtk6 /usr/bin/vtk \</span><br><span class="line">    &amp;&amp; ln -s /usr/lib/aarch64-linux-gnu/python2.7/site-packages/vtk/libvtkRenderingPythonTkWidgets.aarch64-linux-gnu.so /usr/lib/aarch64-linux-gnu/libvtkRenderingPythonTkWidgets.so</span><br><span class="line"></span><br><span class="line">#安装中文字体</span><br><span class="line">RUN apt-get update \</span><br><span class="line">    &amp;&amp; apt-get install -y fonts-droid-fallback ttf-wqy-zenhei ttf-wqy-microhei fonts-arphic-ukai fonts-arphic-uming \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line"># Install osqp &amp; qpOASES</span><br><span class="line">ADD tools/osqp.zip /tmp/osqp.zip</span><br><span class="line">ADD tools/qpOASES-3.2.1.zip  /tmp/qpOASES.zip</span><br><span class="line">RUN cd /tmp \</span><br><span class="line">    &amp;&amp; unzip osqp.zip \</span><br><span class="line">    &amp;&amp; unzip qpOASES.zip \</span><br><span class="line">    &amp;&amp; cd /tmp/osqp \</span><br><span class="line">    &amp;&amp; bash install.sh \</span><br><span class="line">    &amp;&amp; cd /tmp/qpOASES-3.2.1 \</span><br><span class="line">    &amp;&amp; mkdir build \</span><br><span class="line">    &amp;&amp; cd build \</span><br><span class="line">    &amp;&amp; cmake .. \</span><br><span class="line">    &amp;&amp; make install \</span><br><span class="line">    &amp;&amp; cd / \</span><br><span class="line">    &amp;&amp; rm -rf /tmp/*</span><br><span class="line"># Install cuda</span><br><span class="line">ADD tools/cuda /tmp/</span><br><span class="line">RUN dpkg -i /tmp/*.deb \</span><br><span class="line">    &amp;&amp; apt-key add /var/cuda-repo-10-2-local-10.2.89/7fa2af80.pub \</span><br><span class="line">    &amp;&amp; apt-get update \</span><br><span class="line">    &amp;&amp; apt-get install cuda-toolkit-10.2 -y \</span><br><span class="line">    &amp;&amp; echo &quot;export PATH=/usr/local/cuda/bin:$PATH&quot; &gt;&gt; /home/autopolit/.bashrc \</span><br><span class="line">    &amp;&amp; echo &quot;export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH&quot; &gt;&gt; /home/autopolit/.bashrc \</span><br><span class="line">    &amp;&amp; echo &quot;export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH&quot; &gt;&gt; /home/autopolit/.bashrc \</span><br><span class="line">    &amp;&amp; echo &quot;source /opt/ros/melodic/setup.bash&quot; &gt;&gt; /home/autopolit/.bashrc \</span><br><span class="line">    &amp;&amp; rm -rf /tmp/* \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line"># Install pcan</span><br><span class="line">ADD file/linux-headers-4.9.140-tegra /usr/src/linux-headers-4.9.140-tegra/</span><br><span class="line">ADD file/pcanlib/etc/modules.conf.local /etc/</span><br><span class="line">ADD file/pcanlib/lib/modules/4.9.140-tegra /lib/modules/4.9.140-tegra/</span><br><span class="line">ADD file/pcanlib/usr/include /usr/include/</span><br><span class="line">ADD file/pcanlib/usr/lib /usr/lib/</span><br><span class="line">ADD file/pcanlib/usr/local/bin /usr/local/bin/</span><br><span class="line">ADD tools/peak-linux-driver-8.10.2.tar.gz /tmp/</span><br><span class="line">ADD file/tegra /usr/lib/aarch64-linux-gnu/tegra/</span><br><span class="line">RUN echo &quot;/usr/lib/aarch64-linux-gnu/tegra&quot; &gt;&gt; /etc/ld.so.conf.d/aarch64-linux-gnu.conf \</span><br><span class="line">    &amp;&amp; ldconfig</span><br><span class="line">RUN apt-get update \</span><br><span class="line">    &amp;&amp; apt-get install -y kmod libpopt-dev \</span><br><span class="line">    &amp;&amp; cd /tmp/peak-linux-driver-8.10.2 \</span><br><span class="line">    &amp;&amp; make all NET=NO PCI=NO ISA=NO DNG=NO PCC=NO \</span><br><span class="line">    &amp;&amp; modprobe pcan \</span><br><span class="line">    &amp;&amp; rm -rf /tmp/* \</span><br><span class="line">    &amp;&amp; /usr/bin/clean-layer.sh</span><br><span class="line"></span><br><span class="line">#Install  opencv</span><br><span class="line">ADD tools/build_opencv /tmp/</span><br><span class="line">RUN cd /tmp \</span><br><span class="line">    &amp;&amp; ./buildOpenCV.sh \</span><br><span class="line">    &amp;&amp; rm -rf /tmp/*</span><br><span class="line"></span><br><span class="line"># lib</span><br><span class="line">ADD tools/libnvinfer-dev_7.1.3-1+cuda10.2_arm64.deb /tmp/</span><br><span class="line">ADD tools/libnvinfer7_7.1.3-1+cuda10.2_arm64.deb /tmp/</span><br><span class="line">RUN dpkg -i /tmp/*.deb \</span><br><span class="line">    &amp;&amp; rm -rf /tmp/*</span><br><span class="line"></span><br><span class="line">#Install tensorrt</span><br><span class="line">ADD tools/tensorrt /tmp</span><br><span class="line">RUN dpkg -i /tmp/libnv* \</span><br><span class="line">    &amp;&amp; dpkg -i /tmp/tensorrt_7.1.3.0-1+cuda10.2_arm64.deb \</span><br><span class="line">    &amp;&amp; rm -rf /tmp/*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#添加VNC文件,设置环境变量</span><br><span class="line">ADD file/xstartup /autocar-code/xstartup</span><br><span class="line">ADD file/passwd /autocar-code/passwd</span><br><span class="line">ADD file/.Xauthority /autocar-code/.Xauthority</span><br><span class="line">RUN mkdir /home/autopolit/.vnc \</span><br><span class="line">    &amp;&amp; cp /autocar-code/passwd /home/autopolit/.vnc/ \</span><br><span class="line">    &amp;&amp; cp /autocar-code/xstartup /home/autopolit/.vnc/ \</span><br><span class="line">    &amp;&amp; cp /autocar-code/.Xauthority /home/autopolit/ \</span><br><span class="line">    &amp;&amp; chown -R autopolit:autopolit /home/autopolit \</span><br><span class="line">    &amp;&amp; chown -R autopolit:autopolit /autocar-code</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/05/21/2021/05/2021-05-21-nvidia-jetson-agx-xavier%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/21/2021/05/2021-05-21-nvidia-jetson-agx-xavier%E6%9F%A5%E7%9C%8B%E7%89%88%E6%9C%AC%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/index/" class="post-title-link" itemprop="url">Nvidia JetSON AGX Xavier查看版本常用命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-21 08:00:00" itemprop="dateCreated datePublished" datetime="2021-05-21T08:00:00+08:00">2021-05-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a><strong>概述</strong></h3><p>借助 NVIDIA Jetson AGX Xavier 开发者套件，您可以轻松创建和部署面向制造、交付、零售、智慧城市等领域的端到端 AI 机器人应用程序。该套件由 NVIDIA JetPack 和 DeepStream SDK，以及 CUDA®、cuDNN 和 TensorRT 软件库提供支持，可为您提供立即入门所需的所有工具</p>
<p><strong>使用Nvidia SDK Manager刷机后在Xavier上查看OS、Jetson、CUDA、cudnn、OpenCV和TensorRT版本信息。</strong></p>
<p><strong>系统版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">autopilot@server:~$ uname  -a</span><br><span class="line">Linux server 4.9.140-tegra #1 SMP PREEMPT Mon Dec 9 22:52:02 PST 2019 aarch64 aarch64 aarch64 GNU/Linux</span><br><span class="line"></span><br><span class="line">autopilot@server:~$ lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description:    Ubuntu 18.04.3 LTS</span><br><span class="line">Release:    18.04</span><br><span class="line">Codename:   bionic</span><br></pre></td></tr></table></figure>

<p><strong>Jetson版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">autopilot@server:~$ jetson_release -v</span><br><span class="line"> - NVIDIA Jetson AGX Xavier [16GB]</span><br><span class="line">   * Jetpack 4.3 [L4T 32.3.1]</span><br><span class="line">   * NV Power Mode: MAXN - Type: 0</span><br><span class="line">   * jetson_stats.service: active</span><br><span class="line"> - Board info:</span><br><span class="line">   * Type: AGX Xavier [16GB]</span><br><span class="line">   * SOC Family: tegra194 - ID:25</span><br><span class="line">   * Module: P2888-0001 - Board: P2822-0000</span><br><span class="line">   * Code Name: galen</span><br><span class="line">   * CUDA GPU architecture (ARCH_BIN): 7.2</span><br><span class="line">   * Serial Number: 0420219007233</span><br><span class="line"> - Libraries:</span><br><span class="line">   * CUDA: 10.0.326</span><br><span class="line">   * cuDNN: 7.6.3.28</span><br><span class="line">   * TensorRT: 6.0.1.10</span><br><span class="line">   * Visionworks: 1.6.0.500n</span><br><span class="line">   * OpenCV: 3.2.0 compiled CUDA: NO</span><br><span class="line">   * VPI: 0.1.0</span><br><span class="line">   * Vulkan: 1.1.70</span><br><span class="line"> - jetson-stats:</span><br><span class="line">   * Version 3.0.3</span><br><span class="line">   * Works on Python 3.6.9</span><br></pre></td></tr></table></figure>

<p><strong>CUDA版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">autopilot@server:~$ nvcc -V</span><br><span class="line">nvcc: NVIDIA (R) Cuda compiler driver</span><br><span class="line">Copyright (c) 2005-2019 NVIDIA Corporation</span><br><span class="line">Built on Mon_Mar_11_22:13:24_CDT_2019</span><br><span class="line">Cuda compilation tools, release 10.0, V10.0.326</span><br></pre></td></tr></table></figure>

<p><strong>cudnn版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">autopilot@server:~$ cat /usr/include/cudnn.h |grep CUDNN_MAJOR -A 2</span><br><span class="line">#define CUDNN_MAJOR 7</span><br><span class="line">#define CUDNN_MINOR 6</span><br><span class="line">#define CUDNN_PATCHLEVEL 3</span><br><span class="line">--</span><br><span class="line">#define CUDNN_VERSION (CUDNN_MAJOR * 1000 + CUDNN_MINOR * 100 + CUDNN_PATCHLEVEL)</span><br><span class="line"></span><br><span class="line">#include &quot;driver_types.h&quot;</span><br></pre></td></tr></table></figure>

<p><strong>OepnCV版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">autopilot@server:~$ pkg-config --modversion opencv</span><br><span class="line">3.2.0</span><br></pre></td></tr></table></figure>

<p><strong>TensorRT版本</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">autopilot@server:~$ dpkg -l |grep TensorRT</span><br><span class="line">ii  graphsurgeon-tf                               7.1.3-1+cuda10.2                                 arm64        GraphSurgeon for TensorRT package</span><br><span class="line">ii  libnvinfer-bin                                7.1.3-1+cuda10.2                                 arm64        TensorRT binaries</span><br><span class="line">ii  libnvinfer-dev                                7.1.3-1+cuda10.2                                 arm64        TensorRT development libraries and headers</span><br><span class="line">ii  libnvinfer-doc                                7.1.3-1+cuda10.2                                 all          TensorRT documentation</span><br><span class="line">ii  libnvinfer-plugin-dev                         7.1.3-1+cuda10.2                                 arm64        TensorRT plugin libraries</span><br><span class="line">ii  libnvinfer-plugin7                            7.1.3-1+cuda10.2                                 arm64        TensorRT plugin libraries</span><br><span class="line">ii  libnvinfer-samples                            7.1.3-1+cuda10.2                                 all          TensorRT samples</span><br><span class="line">ii  libnvinfer7                                   7.1.3-1+cuda10.2                                 arm64        TensorRT runtime libraries</span><br><span class="line">ii  libnvonnxparsers-dev                          7.1.3-1+cuda10.2                                 arm64        TensorRT ONNX libraries</span><br><span class="line">ii  libnvonnxparsers7                             7.1.3-1+cuda10.2                                 arm64        TensorRT ONNX libraries</span><br><span class="line">ii  libnvparsers-dev                              7.1.3-1+cuda10.2                                 arm64        TensorRT parsers libraries</span><br><span class="line">ii  libnvparsers7                                 7.1.3-1+cuda10.2                                 arm64        TensorRT parsers libraries</span><br><span class="line">ii  nvidia-container-csv-tensorrt                 7.1.3.0-1+cuda10.2                               arm64        Jetpack TensorRT CSV file</span><br><span class="line">ii  python-libnvinfer                             7.1.3-1+cuda10.2                                 arm64        Python bindings for TensorRT</span><br><span class="line">ii  python-libnvinfer-dev                         7.1.3-1+cuda10.2                                 arm64        Python development package for TensorRT</span><br><span class="line">ii  python3-libnvinfer                            7.1.3-1+cuda10.2                                 arm64        Python 3 bindings for TensorRT</span><br><span class="line">ii  python3-libnvinfer-dev                        7.1.3-1+cuda10.2                                 arm64        Python 3 development package for TensorRT</span><br><span class="line">ii  tensorrt                                      7.1.3.0-1+cuda10.2                               arm64        Meta package of TensorRT</span><br><span class="line">ii  uff-converter-tf                              7.1.3-1+cuda10.2                                 arm64        UFF converter for TensorRT package</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/05/07/2021/05/2021-05-07-jaeger%E5%88%86%E5%B8%83%E5%BC%8F%E8%B7%9F%E8%B8%AA%E5%B7%A5%E5%85%B7/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/07/2021/05/2021-05-07-jaeger%E5%88%86%E5%B8%83%E5%BC%8F%E8%B7%9F%E8%B8%AA%E5%B7%A5%E5%85%B7/index/" class="post-title-link" itemprop="url">Jaeger分布式跟踪工具初探</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-05-07 08:00:00" itemprop="dateCreated datePublished" datetime="2021-05-07T08:00:00+08:00">2021-05-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/op/" itemprop="url" rel="index"><span itemprop="name">op</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><p><a target="_blank" rel="noopener" href="https://www.jaegertracing.io/docs/1.22">Jaegertracing</a></p>
<h3 id="Jaeger简介"><a href="#Jaeger简介" class="headerlink" title="Jaeger简介"></a>Jaeger简介</h3><p>Jaeger：开源的端到端分布式跟踪，监视复杂的分布式系统中的事务并进行故障排除。 下图对比了常用的开源全链路追踪方案，目前SkyWalking和Pinpoint使用比较多，Jaeger相比客户端支持语言比较多，特别是对C++的支持，所以这次选择测试下。 <img src="/images/tracing.png"></p>
<h3 id="Jaeger解决的问题"><a href="#Jaeger解决的问题" class="headerlink" title="Jaeger解决的问题"></a>Jaeger解决的问题</h3><ul>
<li>分布式事务监控</li>
<li>性能和延迟优化</li>
<li>根本原因分析</li>
<li>服务依赖性分析</li>
<li>分布式上下文传播</li>
</ul>
<h3 id="Jaeger架构图"><a href="#Jaeger架构图" class="headerlink" title="Jaeger架构图"></a>Jaeger架构图</h3><p><img src="/images/architecture-v2.png"></p>
<h3 id="Jaeger组件"><a href="#Jaeger组件" class="headerlink" title="Jaeger组件"></a>Jaeger组件</h3><ul>
<li>Jaeger Agent，负责和客户端通信，把收集到的追踪信息上报个收集器 Jaeger Collector</li>
<li>Jaeger Colletor把收集到的数据存入数据库或者其它存储器</li>
<li>Jaeger Query 负责对追踪数据进行查询</li>
<li>Jaeger Ingester 是一个从Kafka主题读取并写入另一个存储后端（Cassandra、Elasticsearch）的服务</li>
<li>Jaeger UI负责用户交互</li>
</ul>
<h3 id="Jaeger端口统计"><a href="#Jaeger端口统计" class="headerlink" title="Jaeger端口统计"></a>Jaeger端口统计</h3><p><strong>Agent</strong> 5775 UDP协议，接收兼容zipkin的协议数据 6831 UDP协议，接收兼容jaeger的兼容协议 6832 UDP协议，接收jaeger的二进制协议 5778 HTTP协议，数据量大不建议使用</p>
<p><strong>Collector</strong> 14267 tcp agent发送jaeger.thrift格式数据 14250 tcp agent发送proto格式数据（背后gRPC) 14268 http 直接接受客户端数据 14269 http 健康检查</p>
<p><strong>Query</strong> 16686 http jaeger的前端，放给用户的接口 16687 http 健康检查</p>
<h3 id="Jaeger部署"><a href="#Jaeger部署" class="headerlink" title="Jaeger部署"></a>Jaeger部署</h3><p><strong>1.创建命名空间</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl create namespace jaeger </span><br></pre></td></tr></table></figure>

<p><strong>2.部署Jaeger-Operator</strong> Jaeger Operator：Jaeger Operator for Kubernetes简化了在Kubernetes上的部署和运行Jaeger。 Jaeger Operator是Kubernetes operator的实现。操作员是一种软件，可以减轻运行另一软件的操作复杂性。从技术上讲，操作员是打包，部署和管理Kubernetes应用程序的一种方法。 Jaeger Operator版本跟踪Jaeger组件（查询，收集器，代理）的一种版本。发行新版本的Jaeger组件时，将发行新版本的操作员，该操作员了解如何将先前版本的运行实例升级到新版本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl create -n jaeger -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/master/deploy/crds/jaegertracing.io_jaegers_crd.yaml </span><br><span class="line">[root@VM-0-123-centos jaeger]# kubectl create -n jaeger -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/master/deploy/service_account.yaml</span><br><span class="line">[root@VM-0-123-centos jaeger]# kubectl create -n jaeger -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/master/deploy/role.yaml</span><br><span class="line">[root@VM-0-123-centos jaeger]# kubectl create -n jaeger -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/master/deploy/role_binding.yaml</span><br><span class="line">[root@VM-0-123-centos jaeger]# kubectl create -n jaeger -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/master/deploy/operator.yaml</span><br></pre></td></tr></table></figure>

<p>查看状态</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl get all -n jaeger</span><br><span class="line">NAME                                         READY   STATUS        RESTARTS   AGE</span><br><span class="line">pod/jaeger-operator-6ff67bdd4b-4nffk         1/1     Running       0          14d</span><br><span class="line">pod/simple-prod-collector-59fc47bf5c-h26mq   0/1     Terminating   0          9d</span><br><span class="line"></span><br><span class="line">NAME                              TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE</span><br><span class="line">service/jaeger-operator-metrics   ClusterIP   172.20.253.138   &lt;none&gt;        8383/TCP,8686/TCP   14d</span><br><span class="line"></span><br><span class="line">NAME                              READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps/jaeger-operator   1/1     1            1           14d</span><br><span class="line"></span><br><span class="line">NAME                                         DESIRED   CURRENT   READY   AGE</span><br><span class="line">replicaset.apps/jaeger-operator-6ff67bdd4b   1         1         1       14d</span><br></pre></td></tr></table></figure>

<p><strong>3.创建jaeger实例</strong> 创建jaeger.yaml文件，配置ES集群及限制Deployment&#x2F;simple-prod-collector容器的cpu和内存使用大小。最大数量可以起10个pod。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: jaegertracing.io/v1</span><br><span class="line">kind: Jaeger</span><br><span class="line">metadata:</span><br><span class="line">  name: simple-prod</span><br><span class="line">spec:</span><br><span class="line">  strategy: production</span><br><span class="line">  storage:</span><br><span class="line">    type: elasticsearch</span><br><span class="line">    options:</span><br><span class="line">      es:</span><br><span class="line">        server-urls: http://10.0.16.3:9200</span><br><span class="line">        index-prefix: zhjt</span><br><span class="line">  collector:</span><br><span class="line">    maxReplicas: 10</span><br><span class="line">    resources:</span><br><span class="line">      limits:</span><br><span class="line">        cpu: 500m</span><br><span class="line">        memory: 512Mi</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl apply -f  jaeger.yaml  -n jaeger</span><br><span class="line">jaeger.jaegertracing.io/simple-prod created</span><br></pre></td></tr></table></figure>

<p>列出jaeger对象 备注：貌似使用官网all in one的例子状态是正常的Running，这里状态虽然是Failed，但是不影响使用。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl get jaegers -n jaeger</span><br><span class="line">NAME          STATUS   VERSION   STRATEGY     STORAGE         AGE</span><br><span class="line">simple-prod   Failed   1.22.0    production   elasticsearch   9d</span><br></pre></td></tr></table></figure>

<p>获取pod名字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl get pods -l app.kubernetes.io/instance=simple-prod -n jaeger</span><br><span class="line">NAME                                              READY   STATUS      RESTARTS   AGE</span><br><span class="line">simple-prod-collector-59fc47bf5c-h26mq            1/1     Running     0          9d</span><br><span class="line">simple-prod-query-85689b7bbd-g5jw9                2/2     Running     0          9d</span><br></pre></td></tr></table></figure>

<p>获取pod日志</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl  logs simple-prod-query-85689b7bbd-g5jw9 jaeger-agent  -n jaeger</span><br><span class="line">2021/04/28 04:55:34 maxprocs: Leaving GOMAXPROCS=4: CPU quota undefined</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2081811,&quot;caller&quot;:&quot;flags/service.go:117&quot;,&quot;msg&quot;:&quot;Mounting metrics handler on admin server&quot;,&quot;route&quot;:&quot;/metrics&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2082183,&quot;caller&quot;:&quot;flags/service.go:123&quot;,&quot;msg&quot;:&quot;Mounting expvar handler on admin server&quot;,&quot;route&quot;:&quot;/debug/vars&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2083232,&quot;caller&quot;:&quot;flags/admin.go:105&quot;,&quot;msg&quot;:&quot;Mounting health check on admin server&quot;,&quot;route&quot;:&quot;/&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2083883,&quot;caller&quot;:&quot;flags/admin.go:111&quot;,&quot;msg&quot;:&quot;Starting admin HTTP server&quot;,&quot;http-addr&quot;:&quot;:14271&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2084124,&quot;caller&quot;:&quot;flags/admin.go:97&quot;,&quot;msg&quot;:&quot;Admin server started&quot;,&quot;http.host-port&quot;:&quot;[::]:14271&quot;,&quot;health-status&quot;:&quot;unavailable&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2089527,&quot;caller&quot;:&quot;grpc/builder.go:70&quot;,&quot;msg&quot;:&quot;Agent requested insecure grpc connection to collector(s)&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2089992,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:243&quot;,&quot;msg&quot;:&quot;parsed scheme: \&quot;dns\&quot;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.21038,&quot;caller&quot;:&quot;command-line-arguments/main.go:84&quot;,&quot;msg&quot;:&quot;Starting agent&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2104166,&quot;caller&quot;:&quot;healthcheck/handler.go:128&quot;,&quot;msg&quot;:&quot;Health Check state change&quot;,&quot;status&quot;:&quot;ready&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.2108943,&quot;caller&quot;:&quot;grpc/builder.go:108&quot;,&quot;msg&quot;:&quot;Checking connection to collector&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.210908,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;IDLE&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.211061,&quot;caller&quot;:&quot;app/agent.go:69&quot;,&quot;msg&quot;:&quot;Starting jaeger-agent HTTP server&quot;,&quot;http-port&quot;:5778&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3344934,&quot;caller&quot;:&quot;grpc@v1.29.1/resolver_conn_wrapper.go:143&quot;,&quot;msg&quot;:&quot;ccResolverWrapper: sending update to cc: &#123;[&#123;172.20.0.88:14250  &lt;nil&gt; 0 &lt;nil&gt;&#125;] &lt;nil&gt; &lt;nil&gt;&#125;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3345578,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:667&quot;,&quot;msg&quot;:&quot;ClientConn switching balancer to \&quot;round_robin\&quot;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3345697,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:682&quot;,&quot;msg&quot;:&quot;Channel switches to new LB policy \&quot;round_robin\&quot;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3346283,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to CONNECTING&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.33467,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1193&quot;,&quot;msg&quot;:&quot;Subchannel picks a new address \&quot;172.20.0.88:14250\&quot; to connect&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.334736,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:417&quot;,&quot;msg&quot;:&quot;Channel Connectivity change to CONNECTING&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3347983,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;CONNECTING&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.335669,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to READY&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3357751,&quot;caller&quot;:&quot;base/balancer.go:200&quot;,&quot;msg&quot;:&quot;roundrobinPicker: newPicker called with info: &#123;map[0xc0002f5ea0:&#123;&#123;172.20.0.88:14250  &lt;nil&gt; 0 &lt;nil&gt;&#125;&#125;]&#125;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.3357947,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:417&quot;,&quot;msg&quot;:&quot;Channel Connectivity change to READY&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585734.335807,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;READY&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4516647,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to CONNECTING&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4517512,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1193&quot;,&quot;msg&quot;:&quot;Subchannel picks a new address \&quot;172.20.0.88:14250\&quot; to connect&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4517596,&quot;caller&quot;:&quot;base/balancer.go:200&quot;,&quot;msg&quot;:&quot;roundrobinPicker: newPicker called with info: &#123;map[]&#125;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4517772,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:417&quot;,&quot;msg&quot;:&quot;Channel Connectivity change to CONNECTING&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4517884,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;CONNECTING&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;warn&quot;,&quot;ts&quot;:1619592172.4523218,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1275&quot;,&quot;msg&quot;:&quot;grpc: addrConn.createTransport failed to connect to &#123;172.20.0.88:14250  &lt;nil&gt; 0 &lt;nil&gt;&#125;. Err: connection error: desc = \&quot;transport: Error while dialing dial tcp 172.20.0.88:14250: connect: connection refused\&quot;. Reconnecting...&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4523551,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to TRANSIENT_FAILURE&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.452386,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:417&quot;,&quot;msg&quot;:&quot;Channel Connectivity change to TRANSIENT_FAILURE&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.4523947,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;TRANSIENT_FAILURE&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6118224,&quot;caller&quot;:&quot;grpc@v1.29.1/resolver_conn_wrapper.go:143&quot;,&quot;msg&quot;:&quot;ccResolverWrapper: sending update to cc: &#123;[&#123;172.20.0.178:14250  &lt;nil&gt; 0 &lt;nil&gt;&#125;] &lt;nil&gt; &lt;nil&gt;&#125;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6118581,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to CONNECTING&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6118758,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to SHUTDOWN&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.611892,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:417&quot;,&quot;msg&quot;:&quot;Channel Connectivity change to CONNECTING&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6119003,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;CONNECTING&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6119049,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1193&quot;,&quot;msg&quot;:&quot;Subchannel picks a new address \&quot;172.20.0.178:14250\&quot; to connect&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.612726,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:1056&quot;,&quot;msg&quot;:&quot;Subchannel Connectivity change to READY&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6127572,&quot;caller&quot;:&quot;base/balancer.go:200&quot;,&quot;msg&quot;:&quot;roundrobinPicker: newPicker called with info: &#123;map[0xc0003df970:&#123;&#123;172.20.0.178:14250  &lt;nil&gt; 0 &lt;nil&gt;&#125;&#125;]&#125;&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6127682,&quot;caller&quot;:&quot;grpc@v1.29.1/clientconn.go:417&quot;,&quot;msg&quot;:&quot;Channel Connectivity change to READY&quot;,&quot;system&quot;:&quot;grpc&quot;,&quot;grpc_log&quot;:true&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619592172.6127849,&quot;caller&quot;:&quot;grpc/builder.go:119&quot;,&quot;msg&quot;:&quot;Agent collector connection state change&quot;,&quot;dialTarget&quot;:&quot;dns:///simple-prod-collector-headless.jaeger.svc:14250&quot;,&quot;status&quot;:&quot;READY&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl  logs simple-prod-query-85689b7bbd-g5jw9 jaeger-query   -n jaeger</span><br><span class="line">2021/04/28 04:55:29 maxprocs: Leaving GOMAXPROCS=4: CPU quota undefined</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.8951077,&quot;caller&quot;:&quot;flags/service.go:117&quot;,&quot;msg&quot;:&quot;Mounting metrics handler on admin server&quot;,&quot;route&quot;:&quot;/metrics&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.8951416,&quot;caller&quot;:&quot;flags/service.go:123&quot;,&quot;msg&quot;:&quot;Mounting expvar handler on admin server&quot;,&quot;route&quot;:&quot;/debug/vars&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.8952546,&quot;caller&quot;:&quot;flags/admin.go:105&quot;,&quot;msg&quot;:&quot;Mounting health check on admin server&quot;,&quot;route&quot;:&quot;/&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.8953054,&quot;caller&quot;:&quot;flags/admin.go:111&quot;,&quot;msg&quot;:&quot;Starting admin HTTP server&quot;,&quot;http-addr&quot;:&quot;:16687&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.8953238,&quot;caller&quot;:&quot;flags/admin.go:97&quot;,&quot;msg&quot;:&quot;Admin server started&quot;,&quot;http.host-port&quot;:&quot;[::]:16687&quot;,&quot;health-status&quot;:&quot;unavailable&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.9169888,&quot;caller&quot;:&quot;config/config.go:183&quot;,&quot;msg&quot;:&quot;Elasticsearch detected&quot;,&quot;version&quot;:7&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.9174955,&quot;caller&quot;:&quot;app/static_handler.go:181&quot;,&quot;msg&quot;:&quot;UI config path not provided, config file will not be watched&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.9175768,&quot;caller&quot;:&quot;app/server.go:170&quot;,&quot;msg&quot;:&quot;Query server started&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.9175944,&quot;caller&quot;:&quot;healthcheck/handler.go:128&quot;,&quot;msg&quot;:&quot;Health Check state change&quot;,&quot;status&quot;:&quot;ready&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.9176183,&quot;caller&quot;:&quot;app/server.go:249&quot;,&quot;msg&quot;:&quot;Starting GRPC server&quot;,&quot;port&quot;:16685,&quot;addr&quot;:&quot;:16685&quot;&#125;</span><br><span class="line">&#123;&quot;level&quot;:&quot;info&quot;,&quot;ts&quot;:1619585729.9176335,&quot;caller&quot;:&quot;app/server.go:230&quot;,&quot;msg&quot;:&quot;Starting HTTP server&quot;,&quot;port&quot;:16686,&quot;addr&quot;:&quot;:16686&quot;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4.查看jaeger资源</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-123-centos jaeger]# kubectl get all -n jaeger</span><br><span class="line">NAME                                                  READY   STATUS      RESTARTS   AGE</span><br><span class="line">pod/jaeger-operator-6ff67bdd4b-4nffk                  1/1     Running     0          14d</span><br><span class="line">pod/simple-prod-collector-59fc47bf5c-h26mq            1/1     Running     0          8d</span><br><span class="line">pod/simple-prod-query-85689b7bbd-g5jw9                2/2     Running     0          8d</span><br><span class="line"></span><br><span class="line">NAME                                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                                  AGE</span><br><span class="line">service/jaeger-operator-metrics          ClusterIP   172.20.253.138   &lt;none&gt;        8383/TCP,8686/TCP                        14d</span><br><span class="line">service/simple-prod-collector            ClusterIP   172.20.255.184   &lt;none&gt;        9411/TCP,14250/TCP,14267/TCP,14268/TCP   8d</span><br><span class="line">service/simple-prod-collector-headless   ClusterIP   None             &lt;none&gt;        9411/TCP,14250/TCP,14267/TCP,14268/TCP   8d</span><br><span class="line">service/simple-prod-query                ClusterIP   172.20.254.102   &lt;none&gt;        16686/TCP                                8d</span><br><span class="line"></span><br><span class="line">NAME                                    READY   UP-TO-DATE   AVAILABLE   AGE</span><br><span class="line">deployment.apps/jaeger-operator         1/1     1            1           14d</span><br><span class="line">deployment.apps/simple-prod-collector   1/1     1            1           8d</span><br><span class="line">deployment.apps/simple-prod-query       1/1     1            1           8d</span><br><span class="line"></span><br><span class="line">NAME                                               DESIRED   CURRENT   READY   AGE</span><br><span class="line">replicaset.apps/jaeger-operator-6ff67bdd4b         1         1         1       14d</span><br><span class="line">replicaset.apps/simple-prod-collector-59fc47bf5c   1         1         1       8d</span><br><span class="line">replicaset.apps/simple-prod-query-85689b7bbd       1         1         1       8d</span><br><span class="line"></span><br><span class="line">NAME                                                        REFERENCE                          TARGETS             MINPODS   MAXPODS   REPLICAS   AGE</span><br><span class="line">horizontalpodautoscaler.autoscaling/simple-prod-collector   Deployment/simple-prod-collector   1457m/90, 137m/90   1         10        1          8d</span><br></pre></td></tr></table></figure>

<p>如果流量大需要减小es压力，可以接入kafka集群，修改jaeger.yaml文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: jaegertracing.io/v1</span><br><span class="line">kind: Jaeger</span><br><span class="line">metadata:</span><br><span class="line">  name: simple-streaming</span><br><span class="line">spec:</span><br><span class="line">  strategy: streaming</span><br><span class="line">  collector:</span><br><span class="line">    options:</span><br><span class="line">      kafka:</span><br><span class="line">        producer:</span><br><span class="line">          topic: jaeger-spans</span><br><span class="line">          brokers: my-cluster-kafka-brokers.kafka:9092   #修改为kafka地址</span><br><span class="line">  ingester:</span><br><span class="line">    options:</span><br><span class="line">      kafka:</span><br><span class="line">        consumer:</span><br><span class="line">          topic: jaeger-spans</span><br><span class="line">          brokers: my-cluster-kafka-brokers.kafka:9092  #修改为kafka地址</span><br><span class="line">      ingester:</span><br><span class="line">        deadlockInterval: 5s</span><br><span class="line">  storage:</span><br><span class="line">    type: elasticsearch</span><br><span class="line">    options:</span><br><span class="line">      es:</span><br><span class="line">        server-urls: http://elasticsearch:9200   #修改为ES地址</span><br></pre></td></tr></table></figure>

<p><strong>5.agent部署</strong></p>
<p>jaeger client的一个代理程序，client将收集到的调用链数据发给agent，然后由agent发给collector。由于使用的udp协议，一般部署在靠近client的位置。</p>
<p>agent有多种安装方式</p>
<p>1).docker安装</p>
<p>下载：<a target="_blank" rel="noopener" href="https://hub.docker.com/r/jaegertracing/jaeger-agent/tags?page=1&ordering=last_updated" title="jaegertracing/jaeger-agent Tags (docker.com)">jaegertracing&#x2F;jaeger-agent Tags (docker.com)</a></p>
<p>docker run -d -p 6831:6831&#x2F;udp -p 6832:6832&#x2F;udp -p 5778:5778&#x2F;tcp jaegertracing&#x2F;jaeger-agent:1.12 –reporter.grpc.host-port&#x3D;xx.xx.xx.xx:14250</p>
<p>2).k8s安装又分两种</p>
<p>sidecar方式</p>
<p>daemonset方式</p>
<p>参考：<a target="_blank" rel="noopener" href="https://www.jaegertracing.io/docs/1.22/operator/#manually-defining-jaeger-agent-sidecars">Operator for Kubernetes — Jaeger documentation (jaegertracing.io)</a></p>
<p>3).二进制安装</p>
<p>下载：<a target="_blank" rel="noopener" href="https://www.jaegertracing.io/download/#binaries">Jaeger – Download Jaeger (jaegertracing.io)</a></p>
<p>nohup .&#x2F;jaeger-agent –collector.host-port&#x3D;xxxx:14267 1&gt;1.log 2&gt;2.log &amp;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="https://minminmsn.github.io/2021/04/15/2021/04/2021-04-15-kubernetes%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/index/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jerry Min">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MinMinMsn">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/04/15/2021/04/2021-04-15-kubernetes%E6%A0%B8%E5%BF%83%E7%BB%84%E4%BB%B6%E8%BF%90%E8%A1%8C%E6%9C%BA%E5%88%B6/index/" class="post-title-link" itemprop="url">kubernetes核心组件运行机制</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-04-15 08:00:00" itemprop="dateCreated datePublished" datetime="2021-04-15T08:00:00+08:00">2021-04-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2023-05-26 15:06:35" itemprop="dateModified" datetime="2023-05-26T15:06:35+08:00">2023-05-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/cloud/" itemprop="url" rel="index"><span itemprop="name">cloud</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="Kubernetes架构"><a href="#Kubernetes架构" class="headerlink" title="Kubernetes架构"></a><strong>Kubernetes架构</strong></h3><p><img src="/images/f9fbbd698925123d13155d20557e51d.jpg"></p>
<h3 id="Kubernets核心组件"><a href="#Kubernets核心组件" class="headerlink" title="Kubernets核心组件"></a><strong>Kubernets核心组件</strong></h3><ul>
<li>API Server</li>
<li>Controller Manager</li>
<li>Scheduler</li>
<li>Kubelet</li>
<li>Kube-Proxy</li>
<li>Etcd</li>
</ul>
<h3 id="Kubernetes-API-Server原理解析"><a href="#Kubernetes-API-Server原理解析" class="headerlink" title="Kubernetes API Server原理解析"></a><strong>Kubernetes API Server原理解析</strong></h3><p>总体来看，Kubernetes API Server的核心功能是提供Kubernetes各类资源对象（如Pod、RC、Service等）的增、删、改、查及Watch等HTTP Rest接口，成为集群内各个功能模块之间数据交互和通信的中心枢纽，是整个系统的数据总线和数据中心。除此之外，它还有以下一些功能特性。 （1）是集群管理的API入口。 （2）是资源配额控制的入口。 （3）提供了完备的集群安全机制。</p>
<p><strong>API Server架构</strong> <img src="/images/80646ecdd6e1af4769d02e777aaf6d9.jpg"></p>
<h3 id="Controller-Manager原理解析"><a href="#Controller-Manager原理解析" class="headerlink" title="Controller Manager原理解析"></a><strong>Controller Manager原理解析</strong></h3><p>Controller Manager内部包含ReplicationController、Node Controller、ResourceQuotaController、Namespace Controller、ServiceAccountController、Token Controller、Service Controller及Endpoint Controller这8种Controller，每种Controller都负责一种特定资源的控制流程，而Controller Manager正是这些Controller的核心管理者。</p>
<p>Controller Manager架构图如下 <img src="/images/f9e2a1fd36a677f1edb117a85d40519.jpg"></p>
<h3 id="Scheduler原理解析"><a href="#Scheduler原理解析" class="headerlink" title="Scheduler原理解析"></a><strong>Scheduler原理解析</strong></h3><p>Kubernetes Scheduler在整个系统中承担了“承上启下”的重要功能，“承上”是指它负责接收Controller Manager创建的新Pod，为其安排一个落脚的“家”——目标Node；“启下”是指安置工作完成后，目标Node上的kubelet服务进程接管后继工作，负责Pod生命周期中的“下半生”。 具体来说，Kubernetes Scheduler的作用是将待调度的Pod（API新创建的Pod、Controller Manager为补足副本而创建的Pod等）按照特定的调度算法和调度策略绑定（Binding）到集群中某个合适的Node上，并将绑定信息写入etcd中。在整个调度过程中涉及三个对象，分别是待调度Pod列表、可用Node列表，以及调度算法和策略。简单地说，就是通过调度算法调度为待调度Pod列表中的每个Pod从Node列表中选择一个最适合的Node。 随后，目标节点上的kubelet通过API Server监听到KubernetesScheduler产生的Pod绑定事件，然后获取对应的Pod清单，下载Image镜像并启动容器。 完整的流程图如下： <img src="/images/09d36b0b81b91f77f54983ad36caf70.jpg"></p>
<h3 id="Kubelet运行机制解析"><a href="#Kubelet运行机制解析" class="headerlink" title="Kubelet运行机制解析"></a><strong>Kubelet运行机制解析</strong></h3><p>在Kubernetes集群中，在每个Node（又称Minion）上都会启动一个kubelet服务进程。该进程用于处理Master下发到本节点的任务，管理Pod及Pod中的容器。每个kubelet进程都会在APIServer上注册节点自身的信息，定期向Master汇报节点资源的使用情况，并通过cAdvisor监控容器和节点资源。</p>
<h3 id="Kube-proxy运行机制解析"><a href="#Kube-proxy运行机制解析" class="headerlink" title="Kube-proxy运行机制解析"></a><strong>Kube-proxy运行机制解析</strong></h3><p>起初，kube-proxy进程是一个真实的TCP&#x2F;UDP代理，类似HAProxy，负责从Service到Pod的访问流量的转发，这种模式被称为userspace（用户空间代理）模式。当某个Pod以Cluster IP方式访问某个Service的时候，这个流量会被Pod所在本机的iptables转发到本机的kube-proxy进程，然后由kube-proxy建立起到后端Pod的TCP&#x2F;UDP连接，随后将请求转发到某个后端Pod上，并在这个过程中实现负载均衡功能。</p>
<p>Kubernetes从1.2版本开始，将iptables作为kube-proxy的默认模式。iptables模式下的kube-proxy不再起到Proxy的作用，其核心功能：通过API Server的Watch接口实时跟踪Service与Endpoint的变更信息，并更新对应的iptables规则，Client的请求流量则通过iptables的NAT机制“直接路由”到目标Pod。 <img src="/images/0d27bbbf2d66a43ac966df68b8301ff.jpg"></p>
<p>Kubernetes从1.8版本开始引入第3代的IPVS（IP Virtual Server）模式。IPVS在Kubernetes 1.11中升级为GA稳定版。iptables与IPVS虽然都是基于Netfilter实现的，但因为定位不同，二者有着本质的差别：iptables是为防火墙而设计的；IPVS则专门用于高性能负载均衡，并使用更高效的数据结构（Hash表），允许几乎无限的规模扩张，因此被kube-proxy采纳为第三代模式。 <img src="/images/689e7b760b3b8cffc620ae83c0de3cf.jpg"></p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a><strong>参考资料</strong></h3><p><strong>Kubernetes权威指南：从Docker到Kubernetes实践全接触（第4版）龚正等</strong></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jerry Min</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">260</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">34</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jerry Min</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
