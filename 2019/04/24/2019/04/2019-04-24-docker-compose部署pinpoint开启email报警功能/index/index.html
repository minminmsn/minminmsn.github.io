<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>docker-compose部署pinpoint开启email报警功能 | MinMinMsn</title><meta name="author" content="Jerry Min"><meta name="copyright" content="Jerry Min"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="做事前认真阅读下Readme文档，磨刀不误砍柴工Pinpoint-Docker for PinpointOfficial git repository of Dockerized components of the Pinpoint Application Monitoring.Installing Pinpoint with these docker files will take approx">
<meta property="og:type" content="article">
<meta property="og:title" content="docker-compose部署pinpoint开启email报警功能">
<meta property="og:url" content="https://minminmsn.github.io/2019/04/24/2019/04/2019-04-24-docker-compose%E9%83%A8%E7%BD%B2pinpoint%E5%BC%80%E5%90%AFemail%E6%8A%A5%E8%AD%A6%E5%8A%9F%E8%83%BD/index/index.html">
<meta property="og:site_name" content="MinMinMsn">
<meta property="og:description" content="做事前认真阅读下Readme文档，磨刀不误砍柴工Pinpoint-Docker for PinpointOfficial git repository of Dockerized components of the Pinpoint Application Monitoring.Installing Pinpoint with these docker files will take approx">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:published_time" content="2019-04-24T00:00:00.000Z">
<meta property="article:modified_time" content="2023-05-26T07:06:31.777Z">
<meta property="article:author" content="Jerry Min">
<meta property="article:tag" content="pinpoint">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://minminmsn.github.io/2019/04/24/2019/04/2019-04-24-docker-compose%E9%83%A8%E7%BD%B2pinpoint%E5%BC%80%E5%90%AFemail%E6%8A%A5%E8%AD%A6%E5%8A%9F%E8%83%BD/index/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'docker-compose部署pinpoint开启email报警功能',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-26 15:06:31'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">260</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">34</div></a></div><hr/></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="MinMinMsn"><span class="site-name">MinMinMsn</span></a></span><div id="menus"><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">docker-compose部署pinpoint开启email报警功能</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2019-04-24T00:00:00.000Z" title="Created 2019-04-24 08:00:00">2019-04-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-05-26T07:06:31.777Z" title="Updated 2023-05-26 15:06:31">2023-05-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/middleware/">middleware</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="docker-compose部署pinpoint开启email报警功能"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="做事前认真阅读下Readme文档，磨刀不误砍柴工"><a href="#做事前认真阅读下Readme文档，磨刀不误砍柴工" class="headerlink" title="做事前认真阅读下Readme文档，磨刀不误砍柴工"></a><strong>做事前认真阅读下Readme文档，磨刀不误砍柴工</strong></h2><h2 id="Pinpoint-Docker-for-Pinpoint"><a href="#Pinpoint-Docker-for-Pinpoint" class="headerlink" title="Pinpoint-Docker for Pinpoint"></a><strong>Pinpoint-Docker for Pinpoint</strong></h2><p>Official git repository of Dockerized components of the <a target="_blank" rel="noopener" href="http://naver.github.io/pinpoint/">Pinpoint Application Monitoring</a>.<br>Installing Pinpoint with these docker files will take approximately 10min. to check out the features of pinpoint.</p>
<h2 id="What-is-Pinpoint"><a href="#What-is-Pinpoint" class="headerlink" title="What is Pinpoint"></a><strong>What is Pinpoint</strong></h2><p><a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint">Pinpoint</a>, is the world’s leading open-source application monitoring solution - trusted by millions of users around the globe. It supports and helps you understand your application in a glance and allow you to build world-class, high-quality software.</p>
<h2 id="Supported-Tags"><a href="#Supported-Tags" class="headerlink" title="Supported Tags"></a><strong>Supported Tags</strong></h2><ul>
<li>1.8.2</li>
<li>1.8.1</li>
<li>1.8.0</li>
<li>1.7.3</li>
<li>1.7.2</li>
</ul>
<h2 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a><strong>Requirements</strong></h2><ul>
<li><a target="_blank" rel="noopener" href="https://docs.docker.com/compose/compose-file/">docker 18.02.0+</a></li>
</ul>
<h2 id="How-to-install-Pinpoint"><a href="#How-to-install-Pinpoint" class="headerlink" title="How to install Pinpoint?"></a><strong>How to install Pinpoint?</strong></h2><p>You can easily bring up an entire Dockerized Pinpoint(latest release) environment by using <a target="_blank" rel="noopener" href="https://docs.docker.com/compose/">Docker Compose</a> with any of the provided <code>docker-compose.yml</code> files as below.<br>With <code>docker-compose.yml</code> under <em>Pinpoint-Docker</em> folder brings up all the environment attached with Pinpoint-QuickStart(sample app). To monitor your agent see <a href="#configurations">configuration part</a> for further details.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/naver/pinpoint-docker.git</span><br><span class="line">cd pinpoint-docker</span><br><span class="line">docker-compose pull &amp;&amp; docker-compose up -d</span><br></pre></td></tr></table></figure>

<p>If you’d like to bring up a previous release. Try with docker-compose file from other tags.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/naver/pinpoint-docker.git</span><br><span class="line">git checkout &#123;tag&#125;</span><br><span class="line">cd pinpoint-docker</span><br><span class="line">docker-compose pull &amp;&amp; docker-compose up -d</span><br></pre></td></tr></table></figure>

<p>You can also build the image with <code>docker-compose up -d</code> command without pulling the image. But you can reduce the time to 1&#x2F;3 by just downloading them.</p>
<p>This will install and run all services required to run all features in Pinpoint in docker containers joined with same network. - Pinpoint-Web Server - Pinpoint-Collector - Pinpoint-Agent - Pinpoint-Flink(to support certain feature) - Pinpoint-Zookeeper - Pinpoint-Hbase - Pinpoint-QuickStart(a sample application, 1.8.1+) - Pinpoint-Mysql(to support certain feature) This may take several minutes to download all necessary images.</p>
<p>You can replace <code>QuickStart</code> application part with your application to start monitoring.<br>- check <a href="#testing-quickstart-application"><code>Testing QuickStart application</code></a> for a quick demo of pinpoint - check <a href="#monitoring-your-application"><code>Monitoring YOUR Application</code></a> part for further details</p>
<h3 id="Mysql-optional-1-8-1"><a href="#Mysql-optional-1-8-1" class="headerlink" title="Mysql (optional, 1.8.1+)"></a><strong>Mysql (optional, 1.8.1+)</strong></h3><p>The Pinpoint-Mysql is necessary to use ‘Alarm’ feature. It’s server is running on port 13306 and contains the data structure used to register users, groups, and alerts to be sent.</p>
<p>To send email alerts, you must make BATCH_ENABLE&#x3D;true and change the other mail-related environment variables (MAIL_HOST, MAIL_PORT, MAIL_USERNAME, MAIL_PASSWORD, MAIL_PROPERTIES_MAIL_SMTP_FROM, …) to the Pinpoint-Web server in <em>.env</em> file.</p>
<p>For more information checkout <a target="_blank" rel="noopener" href="http://naver.github.io/pinpoint/alarm.html">Setting Alarm</a> in Pinpoint documentation.</p>
<h3 id="Flink-configuration-optional"><a href="#Flink-configuration-optional" class="headerlink" title="Flink configuration (optional)"></a><strong>Flink configuration (optional)</strong></h3><p>The Pinpoint-Flink is necessary to use <a target="_blank" rel="noopener" href="http://naver.github.io/pinpoint/applicationinspector.html">‘Application Inspector’</a> feature.</p>
<p>After all containers are started and ready to go. There is one more thing to do to use all existing features in Pinpoint. It’s not mandatory, but to use all the features and since it’s a simple task, let’s take care of it.</p>
<p>Register a <code>job</code> on to pinpoint-flink server.<br>You can build the <code>job</code> from the <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint">open-source of Pinpoint</a>, additional guide is <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint/blob/master/doc/application-inspector.md#application-inspector">here</a>.<br>or<br>you can simply upload pre-built jar file under pinpoint-flink&#x2F;build&#x2F;pinpoint-flink-job-{pinpoint-version}.jar (beware of the version, it should matched with <em>PINPOINT_VERSION</em> in .env file)<br>If anyone have solution to put the job file into flink image without doing manually, please let us know.</p>
<p>Pinpoint-Flink server is running on <a target="_blank" rel="noopener" href="http://localhost:8081/#/submit">port 8081</a>. From <code>submit new job</code> menu Submit the jar file with <em>com.navercorp.pinpoint.flink.StatStreamingVer2Job</em> in entry class as below image.</p>
<h3 id="Testing-QuickStart-application"><a href="#Testing-QuickStart-application" class="headerlink" title="Testing QuickStart application"></a><strong>Testing QuickStart application</strong></h3><p>Now you are ready to monitor the sample application(Pinpoint-QuickStart <a target="_blank" rel="noopener" href="http://localhost:8000/">port 8000</a>) provided. If you can’t find any connected application from Pinpoint-Web’s first page(<a target="_blank" rel="noopener" href="http://localhost:8079/">port 8079</a> as default), don’t panic and wait for a while. It will take some time for Pinpoint to retrieve the application’s information when running for the first time.</p>
<h2 id="Monitoring-YOUR-Application"><a href="#Monitoring-YOUR-Application" class="headerlink" title="Monitoring YOUR Application"></a><strong>Monitoring YOUR Application</strong></h2><p>Pinpoint-Agent only prepares required libraries for triggering Pinpoint-Agent. Running and configuring agents is manual action done by the user, but don’t worry it’s very simple.</p>
<p>If you are not familiar with Pinpoint concept, please read: <a target="_blank" rel="noopener" href="http://naver.github.io/pinpoint/overview.html#architecture">Overview</a>, <a target="_blank" rel="noopener" href="http://naver.github.io/pinpoint/installation.html#5-pinpoint-agent">Agents Installation</a></p>
<p><strong>You will need to attach <em>Pinpoint-Agent</em> to your application.</strong></p>
<p>Running Pinpoint-Agent docker-compose separately, Examples are <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint-docker/tree/master/pinpoint-agent-attach-example">here</a>.<br>Otherwise, you can check how <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint-docker/blob/master/docker-compose.yml">Pinpoint-Quickstart</a> is attached to Pinpoint-Agent with docker-compose.</p>
<p>We’ll try to create more examples along the way. If anyone who can share their dockerfile, it’s always welcome.</p>
<h2 id="Distributed-System"><a href="#Distributed-System" class="headerlink" title="Distributed System"></a><strong>Distributed System</strong></h2><p>Until now, every components are in one docker, single-node approach, which is excellent for test and development. It provides an easy way to prototype new ideas and use cases, as well as try out new functionality and the latest Pinpoint releases. It’s not intended nor supported for production use.</p>
<p>You can use <code>docker-compose</code> and <code>.env</code> files under each folder to install the modules separately into several servers. If containers are separated, ip configurations in <code>.env</code> must be changed within.</p>
<p>For example, if you want your application running from a docker and rest of Pinpoint in another. You can remove <em>pinpoint-agent</em> and <em>pinpoint-quickstart</em> from docker-compose.yml and run to establish all necessary component of pinpoint. And create another docker-compose.yml just like one under pinpoint-quickstart folder to run your application. Finally, since agent needs to acknowledge the collector ip. collector ip needs to be changed in .env.</p>
<h2 id="Configurations"><a href="#Configurations" class="headerlink" title="Configurations"></a><strong>Configurations</strong></h2><p>Configuration relies on supplying <code>docker-compose</code> with environment variables defined in <code>.env</code> file. So it’s recommended to change variables only from <code>.env</code> file. With <code>docker-compose</code> in this repository. You can create stand-alone containers that are needed to run most of the features in Pinpoint.</p>
<p><strong>Ports</strong> can be also configured in .env file. (Default ports are Pinpoint-Web:8079, Quickstart:8000 and Flink:8081 as configured in .env file)</p>
<p>Pinpoint-Zookeeper is just an example of using zookeeper image. You can modify docker-compose files to suit your needs.</p>
<p>For more specific details on what the values represents in <em>.env</em> file. Please check <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint">Pinpoint Github Repository</a> or <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint/blob/master/web/src/main/resources/pinpoint-web.properties">Pinpoint Web properties</a>, <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint/blob/master/collector/src/main/resources/pinpoint-collector.properties">Pinpoint Collector properties</a>, <a target="_blank" rel="noopener" href="https://github.com/naver/pinpoint/blob/master/agent/src/main/resources-release/pinpoint.config">Pinpoint Agent configuration</a>.<br>Please note that only essential configuration options are adopted to pinpoint-docker(docker-compose).</p>
<h1 id="配置发邮件注意事项"><a href="#配置发邮件注意事项" class="headerlink" title="配置发邮件注意事项"></a><strong>配置发邮件注意事项</strong></h1><blockquote>
<p>To send email alerts, you must make BATCH_ENABLE&#x3D;true and change the other mail-related environment variables (MAIL_HOST, MAIL_PORT, MAIL_USERNAME, MAIL_PASSWORD, MAIL_PROPERTIES_MAIL_SMTP_FROM, …) to the Pinpoint-Web server in .env file.</p>
</blockquote>
<h2 id="首先在pinpoint-web环境变量文件里开启BATCH-ENABLE"><a href="#首先在pinpoint-web环境变量文件里开启BATCH-ENABLE" class="headerlink" title="首先在pinpoint-web环境变量文件里开启BATCH_ENABLE"></a><strong>首先在pinpoint-web环境变量文件里开启BATCH_ENABLE</strong></h2><p>激活BATCH</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_8_77_centos pinpoint-docker]# grep BATCH_ENABLE .env</span><br><span class="line">BATCH_ENABLE=true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="其次设置好发邮件账号信息"><a href="#其次设置好发邮件账号信息" class="headerlink" title="其次设置好发邮件账号信息"></a><strong>其次设置好发邮件账号信息</strong></h2><p>按照实际情况填写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_8_77_centos pinpoint-docker]# grep MAIL .env</span><br><span class="line">MAIL_HOST=stmp.test.com</span><br><span class="line">MAIL_PORT=25</span><br><span class="line">MAIL_USERNAME=user</span><br><span class="line">MAIL_PASSWORD=pass</span><br><span class="line">MAIL_PROPERTIES_MAIL_TRANSPORT_PROTOCOL=smtp</span><br><span class="line">MAIL_PROPERTIES_MAIL_SMTP_AUTH=true</span><br><span class="line">MAIL_PROPERTIES_MAIL_SMTP_PORT=25</span><br><span class="line">MAIL_PROPERTIES_MAIL_SMTP_FROM=test@example.com</span><br><span class="line">MAIL_PROPERTIES_MAIL_STARTTLS_ENABLE=false</span><br><span class="line">MAIL_PROPERTIES_MAIL_STARTTLS_REQUIRED=false</span><br><span class="line">MAIL_PROPERTIES_MAIL_DEBUG=false</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="重新生成pinpoint-web容器"><a href="#重新生成pinpoint-web容器" class="headerlink" title="重新生成pinpoint-web容器"></a><strong>重新生成pinpoint-web容器</strong></h2><p>[root@VM_8_77_centos pinpoint-docker]# docker-compose kill pinpoint-web [root@VM_8_77_centos pinpoint-docker]# docker-compose rm pinpoint-web [root@VM_8_77_centos pinpoint-docker]# docker-compose up -d</p>
<h2 id="参考官网配置报警策略"><a href="#参考官网配置报警策略" class="headerlink" title="参考官网配置报警策略"></a><strong>参考官网配置报警策略</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/naver/pinpoint/blob/master/doc/alarm.md</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://minminmsn.github.io">Jerry Min</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://minminmsn.github.io/2019/04/24/2019/04/2019-04-24-docker-compose%E9%83%A8%E7%BD%B2pinpoint%E5%BC%80%E5%90%AFemail%E6%8A%A5%E8%AD%A6%E5%8A%9F%E8%83%BD/index/">https://minminmsn.github.io/2019/04/24/2019/04/2019-04-24-docker-compose%E9%83%A8%E7%BD%B2pinpoint%E5%BC%80%E5%90%AFemail%E6%8A%A5%E8%AD%A6%E5%8A%9F%E8%83%BD/index/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/pinpoint/">pinpoint</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/04/27/2019/04/2019-04-27-pinpoint-%E4%BF%AE%E6%94%B9hbase%E8%A1%A8ttl%E5%80%BC/index/" title="pinpoint 修改hbase表TTL值"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">pinpoint 修改hbase表TTL值</div></div></a></div><div class="next-post pull-right"><a href="/2019/04/21/2019/04/2019-04-21-%E6%8A%80%E6%9C%AF%E7%9A%84%E6%9C%AC%E8%B4%A8/index/" title="技术的本质"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">技术的本质</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2019/04/27/2019/04/2019-04-27-pinpoint-%E4%BF%AE%E6%94%B9hbase%E8%A1%A8ttl%E5%80%BC/index/" title="pinpoint 修改hbase表TTL值"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-04-27</div><div class="title">pinpoint 修改hbase表TTL值</div></div></a></div><div><a href="/2019/03/30/2019/03/2019-03-30-%E5%85%A8%E9%93%BE%E8%B7%AF%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7pinpoint1-8-2%E9%83%A8%E7%BD%B2/index/" title="全链路监控工具Pinpoint1.8.2部署"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2019-03-30</div><div class="title">全链路监控工具Pinpoint1.8.2部署</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Jerry Min</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">260</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">61</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">34</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/minminmsn"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">不念过往，无畏将来，若非当下，何时？</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%9A%E4%BA%8B%E5%89%8D%E8%AE%A4%E7%9C%9F%E9%98%85%E8%AF%BB%E4%B8%8BReadme%E6%96%87%E6%A1%A3%EF%BC%8C%E7%A3%A8%E5%88%80%E4%B8%8D%E8%AF%AF%E7%A0%8D%E6%9F%B4%E5%B7%A5"><span class="toc-number">1.</span> <span class="toc-text">做事前认真阅读下Readme文档，磨刀不误砍柴工</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Pinpoint-Docker-for-Pinpoint"><span class="toc-number">2.</span> <span class="toc-text">Pinpoint-Docker for Pinpoint</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-Pinpoint"><span class="toc-number">3.</span> <span class="toc-text">What is Pinpoint</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Supported-Tags"><span class="toc-number">4.</span> <span class="toc-text">Supported Tags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Requirements"><span class="toc-number">5.</span> <span class="toc-text">Requirements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-install-Pinpoint"><span class="toc-number">6.</span> <span class="toc-text">How to install Pinpoint?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Mysql-optional-1-8-1"><span class="toc-number">6.1.</span> <span class="toc-text">Mysql (optional, 1.8.1+)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flink-configuration-optional"><span class="toc-number">6.2.</span> <span class="toc-text">Flink configuration (optional)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Testing-QuickStart-application"><span class="toc-number">6.3.</span> <span class="toc-text">Testing QuickStart application</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Monitoring-YOUR-Application"><span class="toc-number">7.</span> <span class="toc-text">Monitoring YOUR Application</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Distributed-System"><span class="toc-number">8.</span> <span class="toc-text">Distributed System</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configurations"><span class="toc-number">9.</span> <span class="toc-text">Configurations</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%8F%91%E9%82%AE%E4%BB%B6%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number"></span> <span class="toc-text">配置发邮件注意事项</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E5%9C%A8pinpoint-web%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6%E9%87%8C%E5%BC%80%E5%90%AFBATCH-ENABLE"><span class="toc-number">1.</span> <span class="toc-text">首先在pinpoint-web环境变量文件里开启BATCH_ENABLE</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E6%AC%A1%E8%AE%BE%E7%BD%AE%E5%A5%BD%E5%8F%91%E9%82%AE%E4%BB%B6%E8%B4%A6%E5%8F%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">其次设置好发邮件账号信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E7%94%9F%E6%88%90pinpoint-web%E5%AE%B9%E5%99%A8"><span class="toc-number">3.</span> <span class="toc-text">重新生成pinpoint-web容器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E5%AE%98%E7%BD%91%E9%85%8D%E7%BD%AE%E6%8A%A5%E8%AD%A6%E7%AD%96%E7%95%A5"><span class="toc-number">4.</span> <span class="toc-text">参考官网配置报警策略</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/12/27/2022/12/2022-12-27-%E8%BF%90%E7%BB%B4%E8%83%BD%E5%8A%9B%E8%A6%81%E6%B1%82/index/" title="运维能力要求">运维能力要求</a><time datetime="2022-12-27T00:00:00.000Z" title="Created 2022-12-27 08:00:00">2022-12-27</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/11/01/2022/11/2022-11-01-%E6%B5%85%E8%B0%88%E5%9F%BA%E4%BA%8E-openstack-%E5%92%8C-k8s-%E8%BD%BB%E9%87%8F%E7%A0%94%E5%8F%91%E7%A7%81%E6%9C%89%E4%BA%91%E5%BB%BA%E8%AE%BE/index/" title="浅谈基于 OpenStack 和 k8s 轻量研发私有云建设">浅谈基于 OpenStack 和 k8s 轻量研发私有云建设</a><time datetime="2022-11-01T00:00:00.000Z" title="Created 2022-11-01 08:00:00">2022-11-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/17/2022/06/2022-06-17-%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E9%9B%86%E9%94%A6/index/" title="数学公式集锦">数学公式集锦</a><time datetime="2022-06-17T00:00:00.000Z" title="Created 2022-06-17 08:00:00">2022-06-17</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/14/2022/06/2022-06-14-%E8%BF%90%E7%BB%B4%E5%B7%A5%E4%BD%9C%E6%80%BB%E7%BB%93/index/" title="运维工作总结">运维工作总结</a><time datetime="2022-06-14T00:00:00.000Z" title="Created 2022-06-14 08:00:00">2022-06-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/06/11/2022/06/2022-06-11-%E6%98%8E%E5%84%92%E5%AD%A6%E6%A1%88%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index/" title="明儒学案学习笔记">明儒学案学习笔记</a><time datetime="2022-06-11T00:00:00.000Z" title="Created 2022-06-11 08:00:00">2022-06-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2023 By Jerry Min</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>